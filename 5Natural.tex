\documentclass[main.tex]{subfiles}
\begin{document}
\chapter{Natural Transformations}\label{chap:natural}
%TODO:knowledge for arrows. \rightsquigarrow and \Rightarrow
%TODO: define "natural in ..."
%TODO: translate commutativity of diagram with natural transformations to commutativity of the components.
%TODO: exercise about product and coproduct in category of endofunctor 
%TODO: reflected by equivalence implies preserved by equivalence.
\section{Natural Transformations}
"Natural transformations" are admittedly what made mathematicians want to study category theory in the first place. In short, they are "morphisms" between "functors", i.e.: transformations that preserve the structure of "functors".

The abstract structure of a "category" is very familiar because it resembles what is found in algebraic structures such as "groups", "rings" or "vector spaces". That is to say, it consists of the data of one or more sets with one or more operations satisfying one or more properties. In contrast, the definition of a functor is more opaque and by itself, the structure of a functor is not obvious. A functor is effectively a morphism between categories, hence a natural transformation will be a \textit{morphism between morphisms}. Before moving on, one might find it enlightening to look for a satisfying definition of morphism between two group homomorphisms $f,g: G \rightarrow H$ and then observe its meaning when $f$ and $g$ are seen as functors $\deloop{G} \rightsquigarrow \deloop{H}$.

%TODO: better intro ! - explain that functors are slightly more opaque but not that much. Similarly to categories where we only bothered to preserve composition and units and the rest followed, Here we only look at the action on morphisms and the rest follows. For composition, you need the square to commute.

For the general case, let $F,G: \mathbf{C}\rightsquigarrow \mathbf{D}$ be "functors". Morally, the structure of $F$ and $G$ is encapsulated in the following diagrams for every arrow, $f \in \Hom_{\mathbf{C}}(A,B)$.
\begin{center}%TODO: better diagrams.
	
	\begin{minipage}{0.38\textwidth}
		\begin{equation}\label{diag:funcF}
		\begin{tikzcd}
		A \arrow[d, "f"'] \arrow[r, "F_0"] & F(A) \arrow[d, "F_1(f)"] \\
		B \arrow[r, "F_0"']                & F(B)                 
		\end{tikzcd}
		\end{equation}
	\end{minipage}
	\begin{minipage}{0.38\textwidth}
		\begin{equation}\label{diag:funcG}
		\begin{tikzcd}
		A \arrow[d, "f"'] \arrow[r, "G_0"] & G(A) \arrow[d, "G_1(f)"] \\
		B \arrow[r, "G_0"']                & G(B)                 
		\end{tikzcd}
		\end{equation}
	\end{minipage}
\end{center}
Thus, a "morphism" between $F$ and $G$ should fit in this picture by sending diagram \eqref{diag:funcF} to diagram \eqref{diag:funcG} in a "commutative" way.
\begin{defn}[Natural transformation]\label{defnattran}
	\AP Let $F,G : \mathbf{C} \rightsquigarrow \mathbf{D}$ be two ("covariant") "functors", a ""natural transformation"" $\phi: F \Rightarrow G$ is a map $\phi: \obj{\mathbf{C}} \rightarrow \mor{\mathbf{D}}$ that satisfies $\phi(A) \in \Hom_{\mathbf{D}}(F(A), G(A))$ for all $A \in \obj{\mathbf{C}}$ and makes \eqref{diag:nattrans} "commute" for any $f \in \Hom_{\mathbf{C}}(A,B)$:\footnote{When doing proofs relying on "naturality" (i.e.: the property of being "natural"), we will use \eqref{diag:nattrans} where we instantiate $\phi$, $F$, $G$, $A$, $B$ and $f$ with the "natural transformation", "functors", "objects" and "morphism" that is needed in the proof. In order to make this instantiation less painful, we will use the shorthand $\intro*\NAT(\phi,A,B,f)$ and instantiate the parameters (we can omit $F$ and $G$ because they should be known from the context).}
	\begin{equation}\label{diag:nattrans}
	\begin{tikzcd}
	F(A) \arrow[d, "F(f)"'] \arrow[r, "\phi(A)"] & G(A) \arrow[d, "G(f)"] \\
	F(B) \arrow[r, "\phi(B)"'] & G(B)
	\end{tikzcd}
	\end{equation}
    \AP Each $\phi(A)$ will be called a ""component"" of $\phi$ and may also be denoted $\phi_A$.
\end{defn}
\AP As usual, there are trivial examples of "natural transformations" such as the ""identity transformation"" $\one_F:F \Rightarrow F$ that sends every "object" $A$ to the "identity" map $\id_{F(A)}$, but let us go back to the group case. Although very specific to "single object" "categories", it is simple enough to quickly digest.
\begin{exmp}\label{exmp:grouphom}
	Let $f,g: \deloop{G} \rightsquigarrow \deloop{H}$ be "functors" (i.e.: "group homomorphisms"), both send the unique "object" $\deloopobject$ in $\deloop{G}$ to $\deloopobject$ in $\deloop{H}$. Thus, a "natural transformation" $\phi : f\Rightarrow g$ has a single "component" $\phi(\deloopobject):\deloopobject \rightarrow \deloopobject$ in $H$, which is simply an element $\phi \in H$. The "commutativity" condition is then exhibited by diagram \eqref{diag:homnattrans} (which lives in $\deloop{H}$) for any $x \in G$.
	\begin{equation}\label{diag:homnattrans}
	\begin{tikzcd}
	* \arrow[d, "f(x)"'] \arrow[r, "\phi"] & * \arrow[d, "g(x)"] \\
	* \arrow[r, "\phi"'] & *
	\end{tikzcd}
	\end{equation}
	Recall that composition in $\deloop{H}$ is just multiplication in $H$, so "naturality" of $\phi$ says that for any $x \in G$, $\phi \cdot f(x) = g(x) \cdot \phi$. Equivalently, $\phi f(x) \phi^{-1} = g(x)$. Therefore, $g = c_{\phi} \circ f$ where $c_{\phi}$ denotes "conjugation" by $\phi$.\footnote{\AP In a "group" $(H, \cdot)$, ""conjugation"" by an element $h \in H$ is the "homomorphism@@GRP" $c_h$ defined $x \mapsto hxh^{-1}$.} In short, "natural transformations" between "group homomorphisms" correspond to factorizations through "conjugations".
\end{exmp}
Next, an example closer to the general idea of a "natural transformation".
\begin{exmp}
	Fix some $n \in \N$ and define the "functor" $\gln:\catCRing \rightsquigarrow \catGrp$ by\footnote{The map $\gln(f)$ is just the extension of $f$ on $\gln(R)$ by applying $f$ to every element of the matrices.}
	\begin{align*}
	R &\mapsto \gln(R) \mbox{ for any "commutative ring" $R$ and} \\
	f &\mapsto \gln(f) \mbox{ for any "ring homomorphism" $f$.}
	\end{align*}
	The second "functor" is $\units{(-)}:\catCRing \rightsquigarrow \catGrp$ which sends a "commutative ring" $R$ to its "group" of "units@@RING" $\units{R}$ and a "ring homomorphism" $f$ to $\units{f}$, its restriction on $\units{R}$. Checking these mappings define two "covariant" "functors" is left as an (simple) exercise, but one might expect these to be "functors" as they play nicely with the structure of the "objects" involved.%TODO:detail.
	
	A "natural transformation" between these two "functors" is $\det:\gln \Rightarrow \units{(-)}$ which maps a "commutative ring" $R$ to $\det_R$, the function calculating the "determinant" of a "matrix" in $\gln(R)$. The first thing to check is that $\det_R \in \Hom_{\catGrp}(\gln(R), \units{R})$ which is clear because the "determinant" of an "invertible" "matrix" is always a "unit@@RING", $\det_R(I_n) = 1$ and $\det_R$ is a multiplicative map.\footnote{i.e.: $\det_R(AB)= \det_R(A)\det_R(B)$.} The second thing is to verify that diagram \eqref{diag:detnat} "commutes" for any $f\in \Hom_{\catCRing}(R,S)$:
	\begin{equation}\label{diag:detnat}
	\begin{tikzcd}
	\text{GL}_n(R) \arrow[r, "\det_R"] \arrow[d, "\text{GL}_n(f)"'] & \units{R} \arrow[d, "\units{f} = f\mid_{\units{R}}"] \\
	\text{GL}_n(S) \arrow[r, "\det_S"'] & \units{S}
	\end{tikzcd}
	\end{equation}
	We will check the claim for $n=2$, but the general proof should only involve more notation to write the bigger expressions, no novel idea. Let $a,b,c,d \in R$, we have 
	\begin{align*}
	({\det}_S \circ \text{GL}_2(f))\left( \begin{bmatrix}a&b\\c&d\end{bmatrix} \right)&= 
	{\det}_S\left(\begin{bmatrix}f(a)&f(b)\\f(c)&f(d)\end{bmatrix}\right)\\
	&= f(a)f(d)-f(b)f(c)\\
	&= f(ad-bc)\\
	&= \units{f}(ad-bc)\\
	&= (\units{f}\circ {\det}_R)\left( \begin{bmatrix}a&b\\c&d\end{bmatrix}\right).
	\end{align*}
	We conclude that the diagram "commutes" and that $\det$ is indeed a "natural transformation".\footnote{Modulo the cases $n>2$.}
\end{exmp}
\begin{exer}\label{exer:natural:componentwise}\marginnote{\hyperref[soln:natural:componentwise]{See solution.}}
	Let $F, G: \mathbf{C} \cattimes \mathbf{C}' \rightsquigarrow \mathbf{D}$ be two "functors". Show that a family \[\left\{ \phi_{X,Y}: F(X,Y) \rightarrow G(X,Y)\mid X \in \obj{\mathbf{C}}, Y \in \obj{\mathbf{C}'} \right\}\] is a "natural transformation" if and only if for any $X \in \obj{\mathbf{C}}$ and $Y \in \obj{\mathbf{C}'}$, both\footnote{Recall the definition of $F(X,\placeholder)$ and $F(\placeholder,Y)$ from Exercise \ref{exer:catfunc:placeholder}.} \[\phi_{X,\placeholder}: F(X,\placeholder) \Rightarrow G(X,\placeholder) \text{ and } \phi_{\placeholder,Y}: F(\placeholder,Y) \Rightarrow G(\placeholder,Y)\] are "natural".
\end{exer}
Now, in order to talk about a "category" of "functors", it remains to describe the "composition" of "natural transformations".
\begin{defn}[Vertical composition]
	Let $F,G,H: \mathbf{C}\rightsquigarrow \mathbf{D}$ be "parallel" "functors" and $\phi:F\Rightarrow G$ and $\eta:G\Rightarrow H$ be two "natural transformations". \AP Then, the ""vertical composition"" of $\phi$ and $\eta$, denoted $\eta\vertcomp \phi:F\Rightarrow H$ is defined by $(\eta \vertcomp \phi)(A) = \eta(A) \circ \phi(A)$ for all $A \in \obj{\mathbf{C}}$. If $f: A\rightarrow B$ is a "morphism" in $\mathbf{C}$, then diagram \eqref{diag:vertcomp} "commutes" by "naturality" of $\phi$ and $\eta$, showing that $\eta \vertcomp \phi$ is a "natural transformation" from $F$ to $H$.\marginnote{The notation $\vertcomp$ is not widespread, most authors use $\circ$ because "vertical composition" is the "composition" in a "functor category". We believe the distinction is helpful as you learn this material.}
	\begin{equation}\label{diag:vertcomp}
	\begin{tikzcd}
	F(A) \arrow[r, "\phi(A)"] \arrow[d, "F(f)"'] & G(A) \arrow[r, "\eta(A)"] \arrow[d, "G(f)"'] & H(A) \arrow[d, "H(f)"'] \\
	F(B) \arrow[r, "\phi(B)"'] & G(B) \arrow[r, "\eta(B)"'] & H(B)
	\end{tikzcd}
	\end{equation}
	
	The meaning of \textit{vertical} will come to light when "horizontal composition" is introduced in a bit.
\end{defn}
\begin{defn}[Functor categories]
	For any two "categories" $\mathbf{C}$ and $\mathbf{D}$, there is a "functor category" denoted $\catFunc{\mathbf{C}}{\mathbf{D}}$.\footnote{Some authors denote it $\mathbf{D}^{\mathbf{C}}$, analogously to the exponential of sets.} Its "objects" are "functors" from $\mathbf{C}$ to $\mathbf{D}$, its "morphisms" are "natural transformations" between such "functors" and the "composition" is the "vertical composition" defined above. One can check that "associativity" of $\vertcomp$ follows from "associativity" of "composition" in $\mathbf{D}$ and that the "identity" "morphism" for a "functor" $F$ is $\one_F$.%TODO: check?
\end{defn}
\begin{exmp}\label{exmp:grpactionfunctor}
	Recall that a "left action" of a "group" $G$ on a set $S$ is just a functor $\deloop{G} \rightsquigarrow \catSet$. Now, between two such "functors" $F,F' \in \catFunc{\deloop{G}}{\catSet}$, a "natural transformation" is a single map $\sigma: F(\deloopobject) \rightarrow F'(\deloopobject)$ such that $\sigma \circ F(g) = F'(g) \circ \sigma$ for any $g \in G$. In other words, denoting $\cdot$ for both "group actions" on $F(\deloopobject)$ and on $F'(\deloopobject)$, $\sigma$ satisfies $\sigma(g\cdot x) = g\cdot(\sigma(x))$ for any $g \in G$ and $x \in F(\deloopobject)$. \AP In group theory, such a map is called $G$--""equivariant"".
	
	Therefore, the "category" $\catFunc{\deloop{G}}{\catSet}$ can be identified as the category of $G$--"sets@gset" (sets equipped with an "action" of $G$) with $G$--"equivariant" maps as the "morphisms".
\end{exmp}
\begin{exer}[\NOW]\label{exer:natural:natiso}\marginnote{\hyperref[soln:natural:natiso]{See solution.}}
	\AP "Isomorphisms@@CAT" in a "functor category" are called ""natural isomorphisms"". Show that they are precisely the "natural transformations" whose "components" are all "isomorphisms".\marginnote{"Functors" that are "naturally isomorphic" are essentially the same "functor"; they send the same "object" to "isomorphic@@CAT" "objects" and the same "morphism" to "morphisms" that are well-behaved under "composition" with "isomorphisms@@CAT" between the "source" and "targets".}
\end{exer}

\begin{exmps}\label{exmp:simplefunccat}
	We can recover constructions we have seen before by studying "categories" of "functors" with a simple domain.
	\begin{enumerate}
		\item The "terminal" "category" $\termcat$ has a single "object" $\bullet$ and no "morphism" other than the "identity". Notice that for any "category" $\mathbf{C}$, a "functor" $F: \termcat \rightsquigarrow \mathbf{C}$ is a simply a choice of "object" $F(\bullet) \in \obj{\mathbf{C}}$ because $F(\id_{\bullet}) = \id_{F(\bullet)}$. If $F, G\in \catFunc{\termcat}{\mathbf{C}}$, then a "natural transformation" $\phi: F \Rightarrow G$ is simply a choice of "morphism" $\phi: F(\bullet) \rightarrow G(\bullet)$ because the "naturality" square \eqref{diag:natsquarebullet} for the only "morphism" $\id_{\bullet}$ is trivially "commutative". We conclude that $\catFunc{\termcat}{\mathbf{C}}$ can be identified with the "category" $\mathbf{C}$ itself.\begin{marginfigure}[-3\baselineskip]
			\begin{equation}\label{diag:natsquarebullet}
				\begin{tikzcd}
					{F(\bullet)} & {F(\bullet)} \\
					{G(\bullet)} & {G(\bullet)}
					\arrow["{F(\id_{\bullet})}", from=1-1, to=1-2]
					\arrow["\phi", from=1-2, to=2-2]
					\arrow["\phi"', from=1-1, to=2-1]
					\arrow["{G(\id_{\bullet})}"', from=2-1, to=2-2]
				\end{tikzcd}
			\end{equation}
		\end{marginfigure}
		\item\label{exmp:isoprodfunccat} Similarly, we can see a "functor" $F: \termcat\coproduct \termcat \rightsquigarrow \mathbf{C}$\footnote{Recall $\termcat\coproduct \termcat$ is the "category" depicted in \eqref{diag:cat1p1}.} as a choice of two "objects" $F(\bullet_1)$ and $F(\bullet_2)$ (not necessarily distinct) and a "natural transformation" $\phi: F \Rightarrow G$ between two such "functors" as a choice of two "morphisms" $\phi_1 : F(\bullet_1) \rightarrow G(\bullet_1)$ and $\phi_2 : F(\bullet_2) \rightarrow G(\bullet_2)$. Therefore, we infer that $\catFunc{\termcat\coproduct \termcat}{\mathbf{C}}$ can be identified with $\mathbf{C}\cattimes \mathbf{C}$.
		\item\label{exmp:funct2arrow} Let us go one level harder. A "functor" $F: \cattwo \rightsquigarrow \mathbf{C}$\footnote{Recall $\cattwo$ is the "category" depicted in \eqref{diag:cat2}.} is a choice of two "objects" $FA$ and $FB$ as well as a morphism $Ff: FA \rightarrow FB$. It can also be seen as a single choice of "morphism" $Ff$ because $FA$ and $FB$ are determined to be the "source" and "target" of $Ff$ respectively. A "natural transformation" $\phi: F \Rightarrow G$ between two such "functors" is \textit{not} simply a choice of two "morphisms" $\phi_A : FA \rightarrow GA$ and $\phi_B: FB \rightarrow GB$ because, while the "naturality" squares for $\id_A$ and $\id_B$ trivially "commute", the "naturality" square \eqref{diag:natsquarearrow} for $f$ is an additional constraint on $\phi$. Namely, it says $(\phi_A,\phi_B)$ makes a "commutative" square with $Ff$ and $Gf$, hence we can identify $\catFunc{\cattwo}{\mathbf{C}}$ with the "arrow category" $\arrowcat{\mathbf{C}}$.
		\begin{marginfigure}[-3\baselineskip]
			\begin{equation}\label{diag:natsquarearrow}
				\begin{tikzcd}
					{FA} & {FB} \\
					{GA} & {GB}
					\arrow["{Ff}", from=1-1, to=1-2]
					\arrow["\phi_B", from=1-2, to=2-2]
					\arrow["\phi_A"', from=1-1, to=2-1]
					\arrow["{Gf}"', from=2-1, to=2-2]
				\end{tikzcd}
			\end{equation}
		\end{marginfigure}
	\end{enumerate}
\end{exmps}
\begin{exer}\label{exer:natural:opcatfun}\marginnote{\hyperref[soln:natural:opcatfun]{See solution.}}
	Show that the "opposite" of $\catFunc{\mathbf{C}}{\mathbf{D}}$ is $\catFunc{\op{\mathbf{C}}}{\op{\mathbf{D}}}$.
\end{exer}
%TODO: maybe double dual vector space iso to identity to explain how naturality works. dual iso to identity but not naturally because we need a choice of basis. One informal synonym for naturally is without choices/forced on you.
%TODO: maybe comma category as exercise.

%TODO: limits are taken pointwise
%Before giving another example, we present a very nice result using limits. It is essentially saying that constructions inside the functor category $\mathbf{D}^{\mathbf{C}}$ are usually as simple as inside $\mathbf{C}$.
%\begin{prop}
%	Let $\mathbf{C}$, $\mathbf{D}$ and $J$ be categories. If all limits of shape $J$ exist in $\mathbf{C}$, then all such limits also exist in $\mathbf{D}^{\mathbf{C}}$.
%\end{prop}
%\begin{proof}
%	
%\end{proof}

It is now time to build intuition for the "horizontal composition" of "natural transformations" which will ultimately lead to the notion of a \kl[2cat]{$2$--category}.
\begin{defn}[The left action of functors]\label{defn:leftaction}
	Let $F,F':\mathbf{C}\rightsquigarrow \mathbf{D}$, $G:\mathbf{D}\rightsquigarrow \mathbf{D}'$ be "functors" and $\phi:F\Rightarrow F'$ a "natural transformation" as summarized in \eqref{diag:leftaction}.\footnote{Using squiggly arrows for "functors" in diagrams is very non-standard, but I believe it helps remember what kind of objects we are dealing with. Moreover, since these diagrams are not "commutative", it makes a good contrast with the plain arrow notation which was mostly used for "commutative" diagrams.}
	\begin{equation}\label{diag:leftaction}
	% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXG1hdGhiZntDfSJdLFszLDAsIlxcbWF0aGJme0R9Il0sWzQsMCwiXFxtYXRoYmZ7RH0nIl0sWzAsMSwiRiIsMCx7ImN1cnZlIjotMywic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMSwyLCJHIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMCwxLCJGJyIsMix7ImN1cnZlIjozLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFszLDUsIlxccGhpIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dXQ==
	\begin{tikzcd}
		{\mathbf{C}} &&& {\mathbf{D}} & {\mathbf{D}'}
		\arrow[""{name=0, anchor=center, inner sep=0}, "F", curve={height=-18pt}, squiggly, from=1-1, to=1-4]
		\arrow["G", squiggly, from=1-4, to=1-5]
		\arrow[""{name=1, anchor=center, inner sep=0}, "{F'}"', curve={height=18pt}, squiggly, from=1-1, to=1-4]
		\arrow["\phi", shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=1]
	\end{tikzcd}
	\end{equation}	
	The "functor" $G$ acts on $\phi$ by sending it to $G\phi := A \mapsto G(\phi(A)) : \obj{\mathbf{C}} \rightarrow \mor{\mathbf{D}'}$. Showing that \eqref{diag:commleftaction} "commutes" for any $f \in \Hom_{\mathbf{C}}(A,B)$ will imply that $G\phi$ is a "natural transformation" from $G\circ F$ to $G\circ F'$ .
	\begin{equation}\label{diag:commleftaction}
		\begin{tikzcd}
		(G\circ F)(A) \arrow[d, "(G\circ F)(f)"'] \arrow[r, "G\phi(A)"] & (G\circ F')(A) \arrow[d, "(G\circ F')(f)"] \\
		(G\circ F)(B) \arrow[r, "G\phi(B)"'] & (G\circ F')(B)
		\end{tikzcd}
	\end{equation}
	Consider this diagram after removing all applications of $G$, by "naturality" of $\phi$, it is "commutative". Since "functors" "preserve@@PROP" "commutativity", the diagram still "commutes" after applying $G$, hence $G\phi: G\circ F \Rightarrow G \circ F'$ is indeed "natural".\footnote{More concisely, we apply $G$ to $\NAT(\phi,A,B,f)$ to obtain \eqref{diag:commleftaction}.}
	
	We leave you to check this constitutes a left action, namely, for any $G:\mathbf{D}\rightsquigarrow \mathbf{D}'$, $G':\mathbf{D}' \rightsquigarrow \mathbf{D}''$ and $\phi:F\Rightarrow F'$, \[\id_{\mathbf{D}}\phi = \phi \text{ and } G'(G\phi)= (G' \circ G)\phi.\]
\end{defn}

\begin{defn}[The right action of functors]\label{defn:rightaction}
	Let $F,F':\mathbf{C}\rightsquigarrow \mathbf{D}$, $H:\mathbf{C}'\rightsquigarrow \mathbf{C}$ be "functors" and $\phi:F\Rightarrow F'$ a "natural transformation" as summarized in \eqref{diag:rightaction}.
	\begin{equation}\label{diag:rightaction}
	% https://q.uiver.app/?q=WzAsMyxbMSwwLCJcXG1hdGhiZntDfSJdLFs0LDAsIlxcbWF0aGJme0R9Il0sWzAsMCwiXFxtYXRoYmZ7Q30nIl0sWzAsMSwiRiIsMCx7ImN1cnZlIjotMywic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMCwxLCJGJyIsMix7ImN1cnZlIjozLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFsyLDAsIkgiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFszLDQsIlxccGhpIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dXQ==
    \begin{tikzcd}
        {\mathbf{C}'} & {\mathbf{C}} &&& {\mathbf{D}}
        \arrow[""{name=0, anchor=center, inner sep=0}, "F", curve={height=-18pt}, squiggly, from=1-2, to=1-5]
        \arrow[""{name=1, anchor=center, inner sep=0}, "{F'}"', curve={height=18pt}, squiggly, from=1-2, to=1-5]
        \arrow["H", squiggly, from=1-1, to=1-2]
        \arrow["\phi", shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=1]
    \end{tikzcd}
	\end{equation}
	
	The "functor" $H$ acts on $\phi$ by sending it to $\phi H := A \mapsto \phi(H(A)) : \obj{\mathbf{C}'} \rightarrow \mor{\mathbf{D}}$. Showing that \eqref{diag:commrightaction} "commutes" for any $f \in \Hom_{\mathbf{C}'}(A,B)$ will imply that $\phi H$ is a "natural transformation" from $F\circ H$ to $F'\circ H$.
	\begin{equation}\label{diag:commrightaction}
	\begin{tikzcd}
	(F\circ H)(A) \arrow[d, "(F\circ H)(f)"'] \arrow[r, "\phi H(A)"] & (F'\circ H)(A) \arrow[d, "(F'\circ H)(f)"] \\
	(F\circ H)(B) \arrow[r, "\phi H(B)"'] & (F'\circ H)(B)
	\end{tikzcd}
	\end{equation}
	"Commutativity" of \eqref{diag:commrightaction} follows by "naturality" of $\phi$: change $f$ in diagram \eqref{diag:nattrans} with the "morphism" $H(f):H(A) \rightarrow H(B)$, i.e.: \eqref{diag:commrightaction} is $\NAT(\phi, HA,HB,Hf)$.
	
	We leave you to check this constitutes a right action, namely, for any $H:\mathbf{C}'\rightsquigarrow \mathbf{C}$, $H':\mathbf{C}''\rightsquigarrow \mathbf{C}'$ and $\phi:F\Rightarrow F'$,
	\[\phi \id_{\mathbf{C}} = \phi \text{ and } (\phi H)H' = \phi(H \circ H').\]
\end{defn}

\begin{prop}
	The two actions commute, i.e.: in the setting of \eqref{diag:commleftright}, $G(\phi H) = (G\phi) H$.\footnote{For this reason and the associativity of the two actions, we will drop all the parentheses from such expressions. We will also drop the $\circ$ for "composition" of "functors". All in all, expect to find expressions like $G'G\phi HH'$ and infer the "natural transformation" $A \mapsto G'(G(\phi(H(H'(A)))))$.}%TODO: associativity ?
	\begin{equation}\label{diag:commleftright}
	% https://q.uiver.app/?q=WzAsNCxbMSwwLCJcXG1hdGhiZntDfSJdLFs0LDAsIlxcbWF0aGJme0R9Il0sWzUsMCwiXFxtYXRoYmZ7RH0nIl0sWzAsMCwiXFxtYXRoYmZ7Q30nIl0sWzAsMSwiRiIsMCx7ImN1cnZlIjotMywic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMSwyLCJHIl0sWzAsMSwiRiciLDIseyJjdXJ2ZSI6Mywic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMywwLCJIIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbNCw2LCJcXHBoaSIsMCx7InNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH19XV0=
    \begin{tikzcd}
        {\mathbf{C}'} & {\mathbf{C}} &&& {\mathbf{D}} & {\mathbf{D}'}
        \arrow[""{name=0, anchor=center, inner sep=0}, "F", curve={height=-18pt}, squiggly, from=1-2, to=1-5]
        \arrow["G", from=1-5, to=1-6]
        \arrow[""{name=1, anchor=center, inner sep=0}, "{F'}"', curve={height=18pt}, squiggly, from=1-2, to=1-5]
        \arrow["H", squiggly, from=1-1, to=1-2]
        \arrow["\phi", shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=1]
    \end{tikzcd}
	\end{equation}
\end{prop}
\begin{proof}
In both the L.H.S. and the R.H.S., an object $A \in \obj{\mathbf{C}}$ is sent to $G(\phi(H(A)))$.
\end{proof}
A very useful result following from the properties of these two actions is that for any "commutative" "diagram" in $\catFunc{\mathbf{C}}{\mathbf{D}}$, we can "pre-compose" and "post-compose" with any "functors" and still obtain a "commutative" "diagram". For instance, if \eqref{diag:commuteinfunc} "commutes" in $\catFunc{\mathbf{C}}{\mathbf{D}}$, then for any "functors" $H: \mathbf{C'} \rightsquigarrow \mathbf{C}$ and $G: \mathbf{D} \rightsquigarrow \mathbf{D'}$, then \eqref{diag:commuteinfunccomposed} "commutes".\footnote{We will often use this property by writing things like ``apply $G(\placeholder)H$ to \eqref{diag:commuteinfunc}'' to use the "commutativity" of \eqref{diag:commuteinfunccomposed} in a proof.}\\
\begin{minipage}{0.49\textwidth}
	\begin{equation}\label{diag:commuteinfunc}
		\begin{tikzcd}
			X & Y \\
			{X'} & {Y'}
			\arrow["\phi"', from=1-1, to=2-1]
			\arrow["\eta", from=1-1, to=1-2]
			\arrow["{\phi'}", from=1-2, to=2-2]
			\arrow["{\eta'}"', from=2-1, to=2-2]
		\end{tikzcd}
	\end{equation}
\end{minipage}\begin{minipage}{0.49\textwidth}
	\begin{equation}\label{diag:commuteinfunccomposed}
		\begin{tikzcd}
			{G\circ X\circ H} & {G\circ Y\circ H} \\
			{G\circ X'\circ H} & {G\circ Y'\circ H}
			\arrow["{G\phi H}"', from=1-1, to=2-1]
			\arrow["{G\phi' H}", from=1-2, to=2-2]
			\arrow["{G\eta'H}"', from=2-1, to=2-2]
			\arrow["{G\eta H}", from=1-1, to=1-2]
		\end{tikzcd}
	\end{equation}
\end{minipage}\\

\AP We will refer to these two actions as the ""biaction"" of "functors" on "natural transformations" and they will motivate the definition of another way to "compose" "natural transformations".

Let $\mathbf{C}$, $\mathbf{D}$ and $\mathbf{E}$ be "categories", $H,H': \mathbf{C}\rightsquigarrow \mathbf{D}$ and $G,G':\mathbf{D} \rightsquigarrow \mathbf{E}$ be "functors" and $\phi:H\Rightarrow H'$ and $\eta:G\Rightarrow G'$ be "natural transformations". This is summarized in \eqref{diag:horizcompsetting}.
\begin{equation}\label{diag:horizcompsetting}
% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXG1hdGhiZntDfSJdLFszLDAsIlxcbWF0aGJme0R9Il0sWzYsMCwiXFxtYXRoYmZ7RX0iXSxbMCwxLCJIIiwwLHsiY3VydmUiOi0zLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFswLDEsIkgnIiwyLHsiY3VydmUiOjMsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6InNxdWlnZ2x5In19fV0sWzEsMiwiRyciLDIseyJjdXJ2ZSI6Mywic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMSwyLCJHIiwwLHsiY3VydmUiOi0zLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFszLDQsIlxccGhpIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs2LDUsIlxcZXRhIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dXQ==
\begin{tikzcd}
	{\mathbf{C}} &&& {\mathbf{D}} &&& {\mathbf{E}}
	\arrow[""{name=0, anchor=center, inner sep=0}, "H", curve={height=-18pt}, squiggly, from=1-1, to=1-4]
	\arrow[""{name=1, anchor=center, inner sep=0}, "{H'}"', curve={height=18pt}, squiggly, from=1-1, to=1-4]
	\arrow[""{name=2, anchor=center, inner sep=0}, "{G'}"', curve={height=18pt}, squiggly, from=1-4, to=1-7]
	\arrow[""{name=3, anchor=center, inner sep=0}, "G", curve={height=-18pt}, squiggly, from=1-4, to=1-7]
	\arrow["\phi", shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=1]
	\arrow["\eta", shorten <=5pt, shorten >=5pt, Rightarrow, from=3, to=2]
\end{tikzcd}
\end{equation}
The ultimate goal is to obtain a "composition" of $\phi$ and $\eta$ that is a "natural transformation" $G\circ H \Rightarrow G'\circ H'$. Note that the "biaction" defined above yields four other "natural transformations":
\begin{align*}
	G\phi&: G\circ H \Rightarrow G\circ H' &&\eta H: G\circ H \Rightarrow G'\circ H \\
	G'\phi&: G'\circ H \Rightarrow G'\circ H'&&\eta H': G\circ H' \Rightarrow G'\circ H'.
\end{align*}
All of the "functors" involved go from $\mathbf{C}$ to $\mathbf{E}$, so all four "natural transformations" fit in diagram \eqref{diag:etdc} that lives in the "functor category" $\catFunc{\mathbf{C}}{\mathbf{E}}$.
\begin{equation}\label{diag:etdc}
\begin{tikzcd}
G\circ H \arrow[r, "G\phi"] \arrow[d, "\eta H"'] & G\circ H' \arrow[d, "\eta H'"] \\
G'\circ H \arrow[r, "G'\phi"']                   & G'\circ H'                    
\end{tikzcd}
\end{equation}

At first glance, this suggests two different definitions for the "horizontal composition", that is, the "composition@comppaths" of the top "path" $(\eta H' \vertcomp G\phi)$ or the "composition@comppaths" of the bottom "path" $(G'\phi \vertcomp \eta H)$. Surprisingly, both definitions coincide as shown in the next result.
\begin{lem}
	Diagram \eqref{diag:etdc} "commutes", i.e.: $\eta H' \vertcomp G\phi = G'\phi \vertcomp \eta H$.\footnote{Similarly to $\NAT$, we will refer to the "commutativity" of \eqref{diag:etdc} with $\intro*\HOR(\phi,\eta)$. We use $\HOR$ because this lemma is crucial in the definition of "horizontal composition".}
\end{lem}
\begin{proof}
Fix an object $A \in \obj{\mathbf{C}}$. Under $\eta H' \vertcomp G\phi$, it is sent to $\eta(H'(A)) \circ G(\phi(A))$ and under $G'\phi \vertcomp \eta H$, it is sent to $G'(\phi(A)) \circ \eta(H(A))$. Thus, the proposition is equivalent to saying diagram \eqref{diag:proofhorizcomp} is "commutative" (in $\mathbf{E}$) for all $A \in \obj{\mathbf{C}}$.
\begin{equation}\label{diag:proofhorizcomp}
\begin{tikzcd}
(G\circ H)(A) \arrow[r, "G(\phi(A))"] \arrow[d, "\eta(H(A))"'] & (G\circ H')(A) \arrow[d, "\eta(H'(A))"] \\
(G'\circ H)(A) \arrow[r, "G'(\phi(A))"']                       & (G'\circ H')(A)                        
\end{tikzcd}
\end{equation}
This follows from $\NAT(\eta,HA,H'A,\phi(A))$.
\end{proof}

\begin{defn}[Horizontal composition]\label{horizcomp}
	\AP In the setting described in \eqref{diag:horizcompsetting}, we define the ""horizontal composition"" of $\eta$ and $\phi$ by $\eta \horcomp \phi = \eta H' \vertcomp G\phi = G'\phi\vertcomp \eta H$.\footnote{The $\horcomp$ notation is not standard but there are no widespread symbol denoting "horizontal composition". I have mostly seen $\ast$ or plain juxtaposition. Hopefully, you will encounter papers/books clear enough that you can typecheck to find what "composition" is being used.}
\end{defn}
One crucial point we have made in earlier chapters is that a notion of "composition" must satisfy "associativity" and have "identities". We will show the former right after you show the latter.
\begin{exer}\label{exer:natural:horcompidentity}\marginnote{\hyperref[soln:natural:horcompidentity]{See solution.}}
	Let $H: \mathbf{C}' \rightsquigarrow \mathbf{C}$, $F,F': \mathbf{C} \rightsquigarrow \mathbf{D}$ and $G: \mathbf{D} \rightsquigarrow \mathbf{D}'$ be "functors" and $\phi: F \Rightarrow F'$ be a "natural transformation". Show that $\phi \horcomp \one_{H} = \phi H$ and $\one_{G} \horcomp \phi = G\phi$. Infer that $\one_{\id_{\mathbf{C}}}$ is the "identity" at $\mathbf{C}$ for $\horcomp$.
\end{exer}

\begin{prop}
	In the setting of \eqref{diag:assochorizcomp}, $\psi \horcomp (\eta \horcomp \phi)= (\psi \horcomp \eta)\horcomp \phi$.
	\begin{equation}\label{diag:assochorizcomp}
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXG1hdGhiZntDfSJdLFszLDAsIlxcbWF0aGJme0R9Il0sWzYsMCwiXFxtYXRoYmZ7RX0iXSxbOSwwLCJcXG1hdGhiZntGfSJdLFswLDEsIkgiLDAseyJjdXJ2ZSI6LTMsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6InNxdWlnZ2x5In19fV0sWzAsMSwiSCciLDIseyJjdXJ2ZSI6Mywic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMSwyLCJHJyIsMix7ImN1cnZlIjozLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFsxLDIsIkciLDAseyJjdXJ2ZSI6LTMsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6InNxdWlnZ2x5In19fV0sWzIsMywiSyIsMCx7ImN1cnZlIjotMywic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMiwzLCJLJyIsMix7ImN1cnZlIjozLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFs0LDUsIlxccGhpIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs3LDYsIlxcZXRhIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs4LDksIlxccHNpIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dXQ==
    \begin{tikzcd}
        {\mathbf{C}} &&& {\mathbf{D}} &&& {\mathbf{E}} &&& {\mathbf{F}}
        \arrow[""{name=0, anchor=center, inner sep=0}, "H", curve={height=-18pt}, squiggly, from=1-1, to=1-4]
        \arrow[""{name=1, anchor=center, inner sep=0}, "{H'}"', curve={height=18pt}, squiggly, from=1-1, to=1-4]
        \arrow[""{name=2, anchor=center, inner sep=0}, "{G'}"', curve={height=18pt}, squiggly, from=1-4, to=1-7]
        \arrow[""{name=3, anchor=center, inner sep=0}, "G", curve={height=-18pt}, squiggly, from=1-4, to=1-7]
        \arrow[""{name=4, anchor=center, inner sep=0}, "K", curve={height=-18pt}, squiggly, from=1-7, to=1-10]
        \arrow[""{name=5, anchor=center, inner sep=0}, "{K'}"', curve={height=18pt}, squiggly, from=1-7, to=1-10]
        \arrow["\phi", shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=1]
        \arrow["\eta", shorten <=5pt, shorten >=5pt, Rightarrow, from=3, to=2]
        \arrow["\psi", shorten <=5pt, shorten >=5pt, Rightarrow, from=4, to=5]
    \end{tikzcd}
	\end{equation}
\end{prop}
\begin{proof}
	Similarly to how we constructed diagram \eqref{diag:etdc} previously, we can use the "biaction" of "functors" and "composition" of "functors" to obtain the following diagram in $\catFunc{\mathbf{C}}{\mathbf{F}}$.\footnote{All $\circ$'s are left out for simplicity.} \marginnote[2\baselineskip]{Here is how each face "commutes".\begin{itemize}
        \item[\textbf{Top:}]$\HOR(\psi,G\eta)$
        \item[\textbf{Bottom:}]$\HOR(\psi,G'\eta)$
        \item[\textbf{Left:}]$\HOR(\psi,\eta H)$
        \item[\textbf{Right:}]$\HOR(\psi,\eta H')$
        \item[\textbf{Front:}] $\HOR(K\eta,\phi)$
        \item[\textbf{Back:}] $\HOR(K'\eta,\phi)$
    \end{itemize}}
	\begin{equation}
	\begin{tikzcd}
	& K'GH \arrow[dd, "K'\eta H" near start] \arrow[rr, "K'G\phi"] &                                                    & K'GH' \arrow[dd, "K'\eta H'"] \\
	KGH \arrow[rr, crossing over, "KG\phi"' near end] \arrow[dd, "K\eta H"'] \arrow[ru, "\psi GH"] &                                                    & KGH'  \arrow[ru, "\psi GH'"'] &                               \\
	& K'G'H \arrow[rr, "K'G'\phi" near start]                       &                                                    & K'G'H'                        \\
	KG'H \arrow[rr, "KG'\phi"'] \arrow[ru, "\psi G'H"]                    &                                                    & KG'H'\arrow[uu, <-, crossing over, "K\eta H'" near start] \arrow[ru, "\psi G'H'"']                     &                              
	\end{tikzcd}
	\end{equation}
	As detailed in the margin, this "commutes" because each face of the cube corresponds to a variant of diagram \eqref{diag:etdc} (with some substitutions and application of a "functor") and combining "commutative" diagrams yields "commutative" diagrams. Then, it follows that $\horcomp$ is associative because\footnote{We could have drawn only the front and right face, but the cube is cooler.} $\psi \horcomp (\eta \horcomp \phi)$ is the diagonal of the front face followed by the bottom right arrow and $(\psi \horcomp \eta) \horcomp \phi$ is the top front arrow followed by the diagonal of the right face.
	% \begin{itemize}
    %     \item[\textbf{Top:}]$\NAT(\psi,K,K',GHX, GH'X,G\phi_X)$
    %     \item[\textbf{Bottom:}]$\NAT(\psi,K,K',G'HX, G'H'X,G'\phi_X)$
    %     \item[\textbf{Left:}]$\NAT(\psi,K,K',GHX, G'HX,\eta_{HX})$
    %     \item[\textbf{Right:}]$\NAT(\psi,K,K',GH'X, G'H'X,\eta_{H'X})$
    %     \item[\textbf{Front:}] Apply $K$ to $\NAT(\eta, G,G',HX, H'X,\phi_X)$
    %     \item[\textbf{Back:}] Apply $K'$ to $\NAT(\eta, G,G',HX, H'X,\phi_X)$
    % \end{itemize}
\end{proof}

There is one last thing to conclude that $\catCat$ is a \kl[2cat]{$2$--category}, namely, that the "vertical" and "horizontal" "compositions" interact nicely.
\begin{prop}[Interchange identity]\label{prop:interchange}
	\AP In the setting of \eqref{diag:interidsetting}, the ""interchange identity"" holds:
	\begin{equation}\label{eqn:interid}
		(\eta' \vertcomp \eta) \horcomp (\phi' \vertcomp \phi) = (\eta' \horcomp \phi') \vertcomp (\eta \horcomp \phi).
	\end{equation}
    \marginnote{It is in the drawing of \eqref{diag:interidsetting} that the intuition behind the terms "vertical" and "horizontal" is taken.}
	\begin{equation}\label{diag:interidsetting}
	% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXG1hdGhiZntDfSJdLFszLDAsIlxcbWF0aGJme0R9Il0sWzYsMCwiXFxtYXRoYmZ7RX0iXSxbMCwxLCJIJyIsMCx7ImxhYmVsX3Bvc2l0aW9uIjo4MCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMSwyLCJHJyciLDIseyJjdXJ2ZSI6NSwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoic3F1aWdnbHkifX19XSxbMSwyLCJHIiwwLHsiY3VydmUiOi01LCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFsxLDIsIkcnIiwwLHsibGFiZWxfcG9zaXRpb24iOjgwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFswLDEsIkgnJyIsMix7ImN1cnZlIjo1LCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJzcXVpZ2dseSJ9fX1dLFswLDEsIkgiLDAseyJjdXJ2ZSI6LTUsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6InNxdWlnZ2x5In19fV0sWzgsMywiXFxwaGkiLDAseyJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9fV0sWzMsNywiXFxwaGknIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs1LDYsIlxcZXRhIiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs2LDQsIlxcZXRhJyIsMCx7InNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH19XV0=
    \begin{tikzcd}
        {\mathbf{C}} &&& {\mathbf{D}} &&& {\mathbf{E}}
        \arrow[""{name=0, anchor=center, inner sep=0}, "{H'}"{pos=0.8}, squiggly, from=1-1, to=1-4]
        \arrow[""{name=1, anchor=center, inner sep=0}, "{G''}"', curve={height=30pt}, squiggly, from=1-4, to=1-7]
        \arrow[""{name=2, anchor=center, inner sep=0}, "G", curve={height=-30pt}, squiggly, from=1-4, to=1-7]
        \arrow[""{name=3, anchor=center, inner sep=0}, "{G'}"{pos=0.8}, squiggly, from=1-4, to=1-7]
        \arrow[""{name=4, anchor=center, inner sep=0}, "{H''}"', curve={height=30pt}, squiggly, from=1-1, to=1-4]
        \arrow[""{name=5, anchor=center, inner sep=0}, "H", curve={height=-30pt}, squiggly, from=1-1, to=1-4]
        \arrow["\phi", shorten <=4pt, shorten >=4pt, Rightarrow, from=5, to=0]
        \arrow["{\phi'}", shorten <=4pt, shorten >=4pt, Rightarrow, from=0, to=4]
        \arrow["\eta", shorten <=4pt, shorten >=4pt, Rightarrow, from=2, to=3]
        \arrow["{\eta'}", shorten <=4pt, shorten >=4pt, Rightarrow, from=3, to=1]
    \end{tikzcd}
	\end{equation}
    
\end{prop}
\begin{proof}
	Akin to the other proofs, this is a matter of combining the right diagrams. After combining the diagrams in $[\mathbf{C},\mathbf{E}]$ corresponding to $\eta \horcomp \phi$ and $\eta'\horcomp \phi'$, it is easy to see that the R.H.S. of \eqref{eqn:interid} is the "morphism" going from $G\circ H$ to $G''\circ H''$ (see \eqref{diag:rhsinterid}).
	\begin{equation}\label{diag:rhsinterid}
	\begin{tikzcd}
	G\circ H \arrow[r, "G\phi"] \arrow[d, "\eta H"'] & G\circ H' \arrow[d, "\eta H'"]                       &                                  \\
	G'\circ H \arrow[r, "G'\phi"']                   & G'\circ H' \arrow[d, "\eta'H'"'] \arrow[r, "G'\phi'"] & G'\circ H'' \arrow[d, "\eta'H''"] \\
	& G''\circ H' \arrow[r, "G''\phi'"']                   & G''\circ H''                    
	\end{tikzcd}
	\end{equation}

	Moreover, observe that the diagram corresponding to the L.H.S. can be factored with the following equations (it also yields the factored diagram in \eqref{diag:factoredLHS}). \begin{marginfigure}\begin{equation}\label{diag:factoredLHS}
		\begin{tikzcd}
		G\circ H \arrow[r, "G\phi"] \arrow[d, "\eta H"'] & G\circ H' \arrow[r, "G\phi'"]      & G\circ H'' \arrow[d, "\eta H''"]  \\
		G'\circ H \arrow[d, "\eta'H"']                   &                                    & G'\circ H'' \arrow[d, "\eta'H''"] \\
		G''\circ H \arrow[r, "G''\phi"']                 & G''\circ H' \arrow[r, "G''\phi'"'] & G''\circ H''                     
		\end{tikzcd}
	\end{equation}\end{marginfigure}
	\begin{align*}
	(\eta'\vertcomp \eta)H = \eta'H\vertcomp \eta H && (\eta'\vertcomp \eta)H'' = \eta'H''\vertcomp \eta H''\\
	G(\phi'\vertcomp \phi) = G\phi'\vertcomp G\phi && G''(\phi'\vertcomp \phi) = G''\phi'\vertcomp G''\phi
	\end{align*}
	Combining the factored diagram with \eqref{diag:rhsinterid}, we obtain \eqref{diag:interid} from which the "interchange identity" readily follows.\footnote{The top right and bottom left square "commute" by $\HOR(\eta,\phi')$ and $\HOR(\eta',\phi)$ respectively. This implies all of \eqref{diag:interid} "commutes" and we have seen that the "path" from $G \circ H$ to $G'' \circ H''$ can be seen as the R.H.S. of \eqref{eqn:interid} by looking at \eqref{diag:rhsinterid} or the L.H.S. by looking at \eqref{diag:factoredLHS}. Thus, we infer the equality of \eqref{eqn:interid}.}
	\begin{equation}\label{diag:interid}
	\begin{tikzcd}
	G\circ H \arrow[r, "G\phi"] \arrow[d, "\eta H"']    & G\circ H' \arrow[d, "\eta H'"] \arrow[r, "G\phi'"]    & G\circ H'' \arrow[d, "\eta H''"]  \\
	G'\circ H \arrow[r, "G'\phi"'] \arrow[d, "\eta'H"'] & G'\circ H' \arrow[d, "\eta'H'"'] \arrow[r, "G'\phi'"] & G'\circ H'' \arrow[d, "\eta'H''"] \\
	G''\circ H \arrow[r, "G''\phi"']                     & G''\circ H' \arrow[r, "G''\phi'"']                    & G''\circ H''                     
	\end{tikzcd}
	\end{equation}
\end{proof}

\begin{defn}[Strict $2$--cateory]\label{defn:2cat}
	\AP A ""strict $2$--category@2cat"" consists of
	\begin{itemize}
		\item a "category" $\mathbf{C}$,
		\item for every $A,B \in \obj{\mathbf{C}}$ a "category" $\mathbf{C}(A,B)$ with $\Hom_{\mathbf{C}}(A,B)$ as its "objects" ("composition" is denoted $\vertcomp$ and "identities" $\one$) and "morphisms" are called $2$--\textbf{morphisms},
		\item a "category" with $\obj{\mathbf{C}}$ as its "objects", where the "morphisms" are pairs of "parallel" "morphisms" of $\mathbf{C}$ along with a $2$--morphism between them. A "morphism" in this "category" is also called a $2$""--cell"". The identity $2$"--cell" at $A \in \obj{\mathbf{C}}$ is the pair $(\id_A, \id_A)$ and the $2$--morphism $\one_{\id_A}$ and "composition" of $2$"--cells" is denoted $\horcomp$),
	\end{itemize} 
	such that the "interchange identity" \eqref{eqn:interid} holds.\footnote{The "interchange identity" does not come out of nowhere, it is equivalent to the "composition" $\circ$ being a "functor" $\mathbf{C}(B,C) \cattimes \mathbf{C}(A,B) \rightsquigarrow \mathbf{C}(A,C)$ that acts on $2$--morphisms by $\diamond$ for every $A,B,C \in \obj{\mathbf{C}}$. We leave you to show this in the special case of the "$2$--category@2cat" of "categories" in Exercise \ref{exer:natural:compositionisfunc}.}
\end{defn}
\subsection{Digression on Higher/Enriched Categories}
This book is not the place to further study $2$"--categories@2cat", but we can say a few interesting things about them. There are notions of "morphisms" between "$2$--categories@2cat" (called $2$--functors) and morphisms between them (called $2$--natural transformations). The latter can be composed in three different ways (analog to "vertical@vertical composition" and "horizontal composition" for $2$--morphisms) and all possible compositions interact well together. In particular,\footnote{There are several so-called coherence axioms that describe how all "compositions" interact, but we state only one of them.} there is a unique $2$--natural transformation that is the composition of all $2$--natural transformations in \eqref{diag:3comp} (there are multiple ways to obtain it, depending on what compositions you do in what order, but as in the "interchange identity", we require them to lead to the same $2$--natural transformation).
\begin{equation}\label{diag:3comp}
% https://q.uiver.app/?q=WzAsMyxbMCwwLCJcXGJ1bGxldCJdLFszLDAsIlxcYnVsbGV0Il0sWzYsMCwiXFxidWxsZXQiXSxbMCwxXSxbMCwxLCIiLDIseyJvZmZzZXQiOi0yLCJjdXJ2ZSI6LTV9XSxbMSwyLCIiLDAseyJvZmZzZXQiOi0yLCJjdXJ2ZSI6LTV9XSxbMSwyXSxbMCwxLCIiLDAseyJvZmZzZXQiOjIsImN1cnZlIjo1fV0sWzEsMiwiIiwwLHsib2Zmc2V0IjoyLCJjdXJ2ZSI6NX1dLFs0LDMsIlxcdnNwYWNley0zcHR9XFxScmlnaHRhcnJvdyIsMCx7Im9mZnNldCI6NSwic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs0LDMsIlxcdnNwYWNley0zcHR9XFxScmlnaHRhcnJvdyIsMCx7InNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH19XSxbNSw2LCJcXHZzcGFjZXstM3B0fVxcUnJpZ2h0YXJyb3ciLDAseyJvZmZzZXQiOjUsInNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH19XSxbNSw2LCJcXHZzcGFjZXstM3B0fVxcUnJpZ2h0YXJyb3ciLDAseyJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9fV0sWzMsNywiXFx2c3BhY2V7LTNwdH1cXFJyaWdodGFycm93IiwwLHsib2Zmc2V0Ijo1LCJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9fV0sWzMsNywiXFx2c3BhY2V7LTNwdH1cXFJyaWdodGFycm93IiwwLHsic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs2LDgsIlxcdnNwYWNley0zcHR9XFxScmlnaHRhcnJvdyIsMCx7Im9mZnNldCI6NSwic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs2LDgsIlxcdnNwYWNley0zcHR9XFxScmlnaHRhcnJvdyIsMCx7InNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH19XSxbNCwzLCIiLDIseyJvZmZzZXQiOi01LCJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9fV0sWzMsNywiIiwwLHsib2Zmc2V0IjotNSwic2hvcnRlbiI6eyJzb3VyY2UiOjIwLCJ0YXJnZXQiOjIwfX1dLFs1LDYsIiIsMCx7Im9mZnNldCI6LTUsInNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH19XSxbNiw4LCIiLDAseyJvZmZzZXQiOi01LCJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9fV1d
\begin{tikzcd}
	\bullet &&& \bullet &&& \bullet
	\arrow[""{name=0, anchor=center, inner sep=0}, from=1-1, to=1-4]
	\arrow[""{name=1, anchor=center, inner sep=0}, shift left=2, curve={height=-30pt}, from=1-1, to=1-4]
	\arrow[""{name=2, anchor=center, inner sep=0}, shift left=2, curve={height=-30pt}, from=1-4, to=1-7]
	\arrow[""{name=3, anchor=center, inner sep=0}, from=1-4, to=1-7]
	\arrow[""{name=4, anchor=center, inner sep=0}, shift right=2, curve={height=30pt}, from=1-1, to=1-4]
	\arrow[""{name=5, anchor=center, inner sep=0}, shift right=2, curve={height=30pt}, from=1-4, to=1-7]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shift right=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=1, to=0]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shorten <=5pt, shorten >=5pt, Rightarrow, from=1, to=0]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shift right=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=2, to=3]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shorten <=5pt, shorten >=5pt, Rightarrow, from=2, to=3]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shift right=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=4]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=4]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shift right=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=3, to=5]
	\arrow["{\vspace{-3pt}\Rrightarrow}", shorten <=5pt, shorten >=5pt, Rightarrow, from=3, to=5]
	\arrow[shift left=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=1, to=0]
	\arrow[shift left=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=0, to=4]
	\arrow[shift left=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=2, to=3]
	\arrow[shift left=5, shorten <=5pt, shorten >=5pt, Rightarrow, from=3, to=5]
\end{tikzcd}
\end{equation}
The "category" of $2$"--categories@2cat" with $2$--functors and $2$--natural transformations is now an instance of a $3$--category. The field of \textit{higher category theory} studies the generalizations of this to $n$--categories for any $n$ (even $n= \infty$!). However, most of higher category theory drops the \textit{strict} part of our definition of $2$--category because this condition is too strong. Very briefly, they allow the properties of "composition", namely "associativity", "identities" and "interchange", to hold up to "isomorphisms".

There is a relatively simple way to define strict $n$--categories using \textit{enriched category theory}.\footnote{I hope you can indulge this continued digression. While higher and enriched category theory are not as indispensible as basic category theory, they are quite powerful. We will not see how in this book, but I think these two little teasers might inspire some readers to find out by themselves.} The definition of a "locally small" "category" can be seen as entirely taking place in the "category" $\catSet$. From this point of view, a "locally small" "category" is a "collection" $\obj{\mathbf{C}}$ of "objects" equipped with
\begin{itemize}
	\item a set $\Hom_{\mathbf{C}}(A,B) \in \obj{\catSet}$ for every $A,B \in \obj{\mathbf{C}}$,
	\item a function $\circ_{A,B,C}\in \Hom_{\catSet}\left( \Hom_{\mathbf{C}}(B,C) \times \Hom_{\mathbf{C}}(A,B), \Hom_{\mathbf{C}}(A,C) \right)$ for every $A,B,C \in \obj{\mathbf{C}}$,
	\item and a function $\id_A \in \Hom_{\catSet}\left( \terminal,\Hom_{\mathbf{C}}(A,A) \right)$,
\end{itemize}
with conditions that can be stated as "commutative diagrams" in $\catSet$. "Commutativity" of \eqref{diag:idcompenriched} and \eqref{diag:idcompenrichedbis} means that the identity morphisms are neutral with respect to "composition" and "commutativity" of \eqref{diag:assoccompenriched} means "composition" is associative.
\begin{equation}\label{diag:idcompenriched}
	% https://q.uiver.app/?q=WzAsMyxbMSwwLCJcXEhvbV97XFxtYXRoYmZ7Q319KEIsQykgXFx0aW1lcyBcXEhvbV97XFxtYXRoYmZ7Q319KEIsQikiXSxbMSwxLCJcXEhvbV97XFxtYXRoYmZ7Q319KEIsQykiXSxbMCwwLCJcXEhvbV97XFxtYXRoYmZ7Q319KEIsQykgXFx0aW1lcyBcXHRlcm1pbmFsIl0sWzAsMSwiXFxjaXJjX3tCLEIsQ30iXSxbMiwwLCJcXGlkIFxcdGltZXMgXFxpZF9CIl0sWzIsMSwiXFxwcm9qZWN0aW9uX3tcXEhvbV97XFxtYXRoYmZ7Q319KEIsQyl9IiwyXV0=
\begin{tikzcd}
	{\Hom_{\mathbf{C}}(B,C) \times \terminal} & {\Hom_{\mathbf{C}}(B,C) \times \Hom_{\mathbf{C}}(B,B)} \\
	& {\Hom_{\mathbf{C}}(B,C)}
	\arrow["{\circ_{B,B,C}}", from=1-2, to=2-2]
	\arrow["{\id \times \id_B}", from=1-1, to=1-2]
	\arrow["{\projection_{\Hom_{\mathbf{C}}(B,C)}}"', from=1-1, to=2-2]
\end{tikzcd}
\end{equation}
\begin{equation}\label{diag:idcompenrichedbis}
	% https://q.uiver.app/?q=WzAsMyxbMSwwLCJcXEhvbV97XFxtYXRoYmZ7Q319KEEsQilcXHRpbWVzIFxcdGVybWluYWwiXSxbMCwxLCJcXEhvbV97XFxtYXRoYmZ7Q319KEEsQikiXSxbMCwwLCJcXEhvbV97XFxtYXRoYmZ7Q319KEIsQikgXFx0aW1lcyBcXEhvbV97XFxtYXRoYmZ7Q319KEEsQikiXSxbMCwxLCJcXHByb2plY3Rpb25fe1xcSG9tX3tcXG1hdGhiZntDfX0oQSxCKX0iXSxbMiwxLCJcXGNpcmNfe0EsQixCfSIsMl0sWzAsMiwiXFxpZF9CIFxcdGltZXMgXFxpZCIsMl1d
\begin{tikzcd}
	{\Hom_{\mathbf{C}}(B,B) \times \Hom_{\mathbf{C}}(A,B)} & {\Hom_{\mathbf{C}}(A,B)\times \terminal} \\
	{\Hom_{\mathbf{C}}(A,B)}
	\arrow["{\projection_{\Hom_{\mathbf{C}}(A,B)}}", from=1-2, to=2-1]
	\arrow["{\circ_{A,B,B}}"', from=1-1, to=2-1]
	\arrow["{\id_B \times \id}"', from=1-2, to=1-1]
\end{tikzcd}
\end{equation}
\begin{equation}\label{diag:assoccompenriched}
	% https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXEhvbV97XFxtYXRoYmZ7Q319KEMsRCkgXFx0aW1lcyBcXEhvbV97XFxtYXRoYmZ7Q319KEIsQykgXFx0aW1lcyBcXEhvbV97XFxtYXRoYmZ7Q319KEEsQikiXSxbMCwxLCJcXEhvbV97XFxtYXRoYmZ7Q319KEMsRCkgXFx0aW1lcyBcXEhvbV97XFxtYXRoYmZ7Q319KEEsQykiXSxbMSwxLCJcXEhvbV97XFxtYXRoYmZ7Q319KEEsRCkiXSxbMSwwLCJcXEhvbV97XFxtYXRoYmZ7Q319KEIsRCkgXFx0aW1lcyBcXEhvbV97XFxtYXRoYmZ7Q319KEEsQikiXSxbMCwxLCJcXGlkIFxcdGltZXMgXFxjaXJjX3tBLEIsQ30iLDJdLFsxLDIsIlxcY2lyY197QSxDLER9IiwyXSxbMCwzLCJcXGNpcmNfe0IsQyxEfSBcXHRpbWVzIFxcaWQiXSxbMywyLCJcXGNpcmNfe0EsQixEfSJdXQ==
\begin{tikzcd}
	{\Hom_{\mathbf{C}}(C,D) \times \Hom_{\mathbf{C}}(B,C) \times \Hom_{\mathbf{C}}(A,B)} & {\Hom_{\mathbf{C}}(B,D) \times \Hom_{\mathbf{C}}(A,B)} \\
	{\Hom_{\mathbf{C}}(C,D) \times \Hom_{\mathbf{C}}(A,C)} & {\Hom_{\mathbf{C}}(A,D)}
	\arrow["{\id \times \circ_{A,B,C}}"', from=1-1, to=2-1]
	\arrow["{\circ_{A,C,D}}"', from=2-1, to=2-2]
	\arrow["{\circ_{B,C,D} \times \id}", from=1-1, to=1-2]
	\arrow["{\circ_{A,B,D}}", from=1-2, to=2-2]
\end{tikzcd}
\end{equation}
It turns out we can abstract the properties of $\terminal$ and $\times$ that ensure we can do category theory: we say that $(\catSet, \times, \terminal)$ is a \href{https://ncatlab.org/nlab/show/monoidal+category}{\textbf{monoidal category}}.\footnote{\AP The specific properties are not too relevant for us right now, but know that $\times$ and $\terminal$ are called the ""tensor@@ENR"" and ""unit@@ENR"" of the monoidal category.} \AP Now, ""enriched category theory"" is done by replacing $\catSet$ with another "category" that has a monoidal structure.
\begin{exmps}
	\begin{enumerate}
		\item The "category" $\termcat$ is a monoidal category with the "tensor@@ENR" and "unit@@ENR" being trivial (there is only one "object", so there is no choice). A "category" "enriched" in $\termcat$ is simply a "collection" $\obj{\mathbf{C}}$ because there is no choice when defining $\Hom_{\mathbf{C}}(A,B) \in \obj{\termcat}$, $\circ_{A,B,C} \in \mor{\termcat}$ and $\id_A \in \mor{\termcat}$.
		\item %TODO: Ab-enriched, not the same as abelian.
		\item The "category" $\catCat$ of "small" "categories" is monoidal with the "tensor@@ENR" being $\cattimes$ and the "unit@@ENR" being $\termcat$. A "category" "enriched" in $\catCat$ is a "strict $2$--category@2cat". For instance, the $2$"--category@2cat" of "categories" is a collection $\obj{\catCat}$ of "objects", a "category" $\catCat(\mathbf{C},\mathbf{D}) = \catFunc{\mathbf{C}}{\mathbf{D}}$ for every $\mathbf{C},\mathbf{D} \in \obj{\catCat}$, a functor $\id_{\mathbf{C}}: \termcat \rightsquigarrow \catFunc{\mathbf{C}}{\mathbf{C}}$ that picks the "identity functor" and, as you will show in Exercise \ref{exer:natural:compositionisfunc}, a "morphism" \[\circ_{\mathbf{C},\mathbf{D},\mathbf{E}}\in \Hom_{\catCat}(\catFunc{\mathbf{D}}{\mathbf{E}} \times \catFunc{\mathbf{C}}{\mathbf{D}},\catFunc{\mathbf{C}}{\mathbf{E}}).\]
		The diagrams corresponding to \eqref{diag:idcompenriched}, \eqref{diag:idcompenrichedbis}, and \eqref{diag:assoccompenriched} (now they live in $\catCat$) "commute" by results we have shown in this chapter.
		\item Generalizing the previous item, a strict $n$--category is a "category" "enriched" in the "category" of "strict" $(n-1)$--categories.
		\item %TODO: Lawvere metric spaces
	\end{enumerate}
\end{exmps}
\begin{exer}[\NOW]\label{exer:natural:compositionisfunc}\marginnote[1\baselineskip]{\hyperref[soln:natural:compositionisfunc]{See solution.}}
	Show that there is a "functor" $\catFunc{\mathbf{D}}{\mathbf{E}} \cattimes \catFunc{\mathbf{C}}{\mathbf{D}} \rightsquigarrow \catFunc{\mathbf{C}}{\mathbf{E}}$ whose action on "objects" is $(F,G) \mapsto F\circ G$.
\end{exer}%TODO: explain the implications for commutative diagrams of natural transformations and how you will use it.
%TODO: req exercises: Composing with a constant yields a functor that preserves isomorphisms for use when saying limits are taken pointwise [C x D, E] = [D x C, E]
\section{Equivalences}
Recall that an isomorphism of "categories" is an "isomorphism@@CAT" in the "category" $\catCat$, namely, a "functor" $F:\mathbf{C}\rightsquigarrow \mathbf{D}$ with an inverse $G:\mathbf{D}\rightsquigarrow \mathbf{C}$ such that $F \circ G = \id_{\mathbf{D}}$ and $G\circ F = \id_{\mathbf{C}}$. As is typical in mathematics, one cannot distinguish between "isomorphic@@CAT" "categories" as they only differ in notations and terminology.%TODO: explain.
\begin{exmps}\label{exmp:isocat}
	\begin{enumerate}
		\item[]\marginnote[2\baselineskip]{Another example for readers who know a bit of advanced algebra. Let $k$ be a "field" and $G$ a finite "group", the "categories" of $k[G]$--\href{https://en.wikipedia.org/wiki/Module_(mathematics)}{modules} ($k[G]$ is the \href{https://en.wikipedia.org/wiki/Group_ring}{group ring} of $k$ over $G$) and of $k$--\href{https://en.wikipedia.org/wiki/Group_representation}{linear representations} of $G$ are "isomorphic@@CAT".}
		\item It was already shown in Example \ref{exmp:grpactionfunctor} (the details were implicit) that for a group $G$, the category $\catFunc{\deloop{G}}{\catSet}$ is "isomorphic@@CAT" to the "category" of $G$--"sets@gset" with $G$--"equivariant" maps as "morphisms".
		\item In Example \ref{exmp:simplefunccat}, three other "isomorphisms@@CAT" were implicitly given:
		\[\catFunc{\termcat}{\mathbf{C}} \isoCAT \mathbf{C} \quad \quad \quad \catFunc{\termcat\coproduct\termcat}{\mathbf{C}} \isoCAT \mathbf{C}\cattimes \mathbf{C} \quad \quad \quad\catFunc{\cattwo}{\mathbf{C}} \isoCAT \arrowcat{\mathbf{C}}.\]
		\item The category $\catRel$ of sets with relations is "isomorphic@@CAT" to $\op{\catRel}$.\footnote{An arbitrary "category" $\mathbf{C}$ is not always "isomorphic@@CAT" to its "opposite". While the "opposite functors" $\op{(\placeholder)}_{\mathbf{C}}: \mathbf{C} \rightsquigarrow \op{\mathbf{C}}$ and $\op{(\placeholder)}_{\op{\mathbf{C}}}: \op{\mathbf{C}} \rightsquigarrow \mathbf{C}$ are inverses of each other, they are "contravariant functors".} The "functor" $\catRel \rightsquigarrow \op{\catRel}$ is the identity on "objects" and sends a relation $R \subseteq X \times Y$ to the opposite relation $\reflectbox{$R$} \subseteq Y \times X$ (which is a "morphism" $X \rightarrow Y$ in $\op{\catRel}$) defined by $(y,x) \in \reflectbox{$R$} \Leftrightarrow (x,y) \in R$. The inverse is defined similarly.
		\item Let $\mathbf{C}$ and $\mathbf{D}$ be "categories" the "functor" $\intro*\swap: \mathbf{C} \cattimes \mathbf{D} \rightsquigarrow \mathbf{D} \cattimes \mathbf{C}$ sends $(A,B)$ to $(B,A)$ and $(f,g)$ to $(g,f)$. It is easy to check that $\swap$ is a "functor" with inverse $\swap^{-1}: \mathbf{D} \cattimes \mathbf{C} \rightsquigarrow \mathbf{C} \cattimes \mathbf{D}$ defined in the obvious way.
		\item\label{exmp:curryingfunctors} Given three "categories" $\mathbf{C}$, $\mathbf{D}$ and $\mathbf{E}$, there is an "isomorphism@@CAT"\footnote{You might recognize a similarity with "exponentials" which rely on an "isomorphism@@CAT" $\Hom_{\mathbf{C}}(B\times X, A)\isoCAT\Hom_{\mathbf{C}}(B, A^X)$. The example here is more than an instance of "exponentials" of "categories" because the "isomorphism@@CAT" is not only as sets but as "categories".} \[\catFunc{\mathbf{C}\cattimes \mathbf{D}}{\mathbf{E}}\isoCAT\catFunc{\mathbf{C}}{\catFunc{\mathbf{D}}{\mathbf{E}}} .\]
		The construction of the "isomorphism@@CAT" follows the intuition of "currying" and "uncurrying" of functions, so the definitions are straightforward. Still, you will see that verifying the straightforward defintions are well-typed is cumbersome (but simple) because there are several levels of "functors" and "natural transformations" %TODO: currying and uncurrying for functors.

		Let $F: \mathbf{C}\cattimes \mathbf{D} \rightsquigarrow \mathbf{E}$, the "currying" of $F$ is $\intro*\Curry{F}: \mathbf{C} \rightsquigarrow \catFunc{\mathbf{D}}{\mathbf{E}}$ defined as follows. For $X \in \obj{\mathbf{C}}$, the "functor" $\Curry{F}(X)$ sends $Y \in \obj{\mathbf{D}}$ to $F(X,Y)$ and $g \in \mor{\mathbf{D}}$ to $F(\id_X,g)$. We showed in Exercise \ref{exer:catfunc:placeholder} that $\Curry{F}(X):= F(X,\placeholder)$ is a "functor". For $f \in \Hom_{\mathbf{C}}(X,X')$, we define the "natural transformation" $\Curry{F}(f): F(X,\placeholder) \Rightarrow F(X', \placeholder)$ by 
		\[\Curry{F}(f)_Y = F(f,\id_Y): F(X,Y) \Rightarrow F(X', Y).\]
		The "naturality" square \eqref{diag:natsquarecurrying} is "commutative" because, by "functoriality" of $F$, the top and bottom path are equal to $F(f,g)$. We also have to show $\Curry{F}$ is a "functor", namely $\Curry{F}(\id_X) = \one_{F(X,\placeholder)}$ and $\Curry{F}(f \circ f') = \Curry{F}(f) \vertcomp \Curry{F}(f')$. We can verify this componentwise using "functoriality" of $F$.\begin{marginfigure}[-3\baselineskip]\centering \begin{equation}\label{diag:natsquarecurrying}
			% https://q.uiver.app/?q=WzAsNCxbMCwwLCJGKFgsWSkiXSxbMCwxLCJGKFgnLFkpIl0sWzEsMCwiRihYLFknKSJdLFsxLDEsIkYoWCcsWScpIl0sWzAsMSwiRihmLFxcaWRfWSkiLDJdLFswLDIsIkYoXFxpZF9YLGcpIl0sWzIsMywiRihmLFxcaWRfe1knfSkiXSxbMSwzLCJGKFxcaWRfe1gnfSxnKSIsMl1d
		\begin{tikzcd}
			{F(X,Y)} & {F(X,Y')} \\
			{F(X',Y)} & {F(X',Y')}
			\arrow["{F(f,\id_Y)}"', from=1-1, to=2-1]
			\arrow["{F(\id_X,g)}", from=1-1, to=1-2]
			\arrow["{F(f,\id_{Y'})}", from=1-2, to=2-2]
			\arrow["{F(\id_{X'},g)}"', from=2-1, to=2-2]
		\end{tikzcd}
		\end{equation}\end{marginfigure}
		\vspace{-1\baselineskip}
		\begin{gather*}
			\Curry{F}(\id_X)_Y = F(\id_X,\id_Y) = \id_{F(X,Y)}\\
			\Curry{F}(f \circ f')_Y = F(f \circ f', \id_Y) = F(f,\id_Y) \circ F(f',\id_Y) = \Curry{F}(f)_Y \circ \Curry{F}(f')_Y.
		\end{gather*}
		It remains to define $\Curry{\placeholder}$ on "morphisms". Given a "natural transformation" $\phi:F \Rightarrow F'$, we define $\Curry{\phi}:\Curry{F} \Rightarrow \Curry{F'}$ at "component" $X \in \obj{\mathbf{C}}$ by the "natural transformation":
		\[\Curry{\phi}(X) = \phi_{X,\placeholder}: F(X,\placeholder) \Rightarrow F'(X,\placeholder).\]
		We showed in Exercise \ref{exer:natural:componentwise} that $\phi_{X,\placeholder}$ is "natural". Finally, we can check that $\Curry{\placeholder}$ is a "functor" with the following derivations.\footnote{The second inequality on the second line can be verified componentwise, i.e.: for every $Y\in \obj{\mathbf{D}}$, we have \[
			(\phi\vertcomp\eta)_{X,Y} = \phi_{X,Y} \circ \eta_{X,Y} (\phi_{X,\placeholder} \vertcomp \eta_{X,\placeholder})_Y.\]}
		\begin{gather*}
			\Curry{\one_F}(X) = {\one_F}_{X,\placeholder}= \one_{F(X,\placeholder)}\\
			\Curry{(\phi \vertcomp \eta)}(X) = (\phi\vertcomp\eta)_{X,\placeholder} = \phi_{X,\placeholder} \vertcomp \eta_{X,\placeholder} = \Curry{\phi}\vertcomp \Curry{\eta}
		\end{gather*}

		Conversely, let $F: \mathbf{C} \rightsquigarrow \catFunc{\mathbf{D}}{\mathbf{E}}$, the "uncurrying" of $F$ is $\intro*\Uncurry{F}: \mathbf{C}\cattimes \mathbf{D} \rightsquigarrow \mathbf{E}$ defined as follows. We use Exercise \ref{exer:catfunc:funccomponent} to define $\Uncurry{F}$ componentwise. Fixing $X \in \obj{\mathbf{C}}$, we know that $F(X)$ is a "functor", so we set $\Uncurry{F}(X,\placeholder)=F(X)$. Fixing $Y \in \obj{\mathbf{D}}$, we define $\Uncurry{F}(\placeholder,Y)$ on "objects" by sending $X\in \obj{\mathbf{C}}$ to $F(X)(Y)$ and $f\in \mor{\mathbf{C}}$ to $F(f)_Y$. To show $\Uncurry{F}(\placeholder,Y)$ is a "functor", we use the "functoriality" of $F$ as follows.
		\begin{gather*}
			\Uncurry{F}(\id_X,Y) = F(\id_X)_Y = {\one_{F(X)}}_Y = \id_{F(X)(Y)}\\
			\Uncurry{F}(f \circ f',Y) = F(f \circ f')_Y = (F(f) \vertcomp F(f'))_Y = F(f)_Y \circ F(f')_Y.
		\end{gather*}
		Now, for every $f:X \rightarrow X'$ and $g: Y \rightarrow Y'$, the "naturality" of $F(f)$ implies the "commutativity" of \eqref{diag:natsquareuncurrying}. This means we can define 
		\[\Uncurry{F}(f,g) := \Uncurry{F}(X',g) \circ \Uncurry{F}(f,Y) = \Uncurry{F}(f,Y') \circ \Uncurry{F}(X,g),\]
		and conclude by Exercise \ref{exer:catfunc:funccomponent} that $\Uncurry{F}:\mathbf{C}\cattimes \mathbf{D} \rightsquigarrow \mathbf{E}$ is a "functor".\begin{marginfigure}\begin{equation}\label{diag:natsquareuncurrying}
			% https://q.uiver.app/?q=WzAsNCxbMCwwLCJGKFgpKFkpIl0sWzEsMCwiRihYKShZJykiXSxbMCwxLCJGKFgnKShZKSJdLFsxLDEsIkYoWCcpKFknKSJdLFswLDEsIkYoWCkoZykiXSxbMCwyLCJGKGYpX1kiLDJdLFsxLDMsIkYoZilfe1knfSJdLFsyLDMsIkYoWCcpKGcpIiwyXV0=
		\begin{tikzcd}
			{F(X)(Y)} & {F(X)(Y')} \\
			{F(X')(Y)} & {F(X')(Y')}
			\arrow["{F(X)(g)}", from=1-1, to=1-2]
			\arrow["{F(f)_Y}"', from=1-1, to=2-1]
			\arrow["{F(f)_{Y'}}", from=1-2, to=2-2]
			\arrow["{F(X')(g)}"', from=2-1, to=2-2]
		\end{tikzcd}
		\end{equation}\end{marginfigure}
		Given a "natural transformation" $\phi: F \Rightarrow F'$, we define $\Uncurry{\phi}: \Uncurry{F} \Rightarrow \Uncurry{F'}$ by $\Uncurry{\phi}_{X,Y} := (\phi_X)_Y$. By Exercise \ref{exer:natural:componentwise}, it is enough to show "naturality" in one "component" at a time. Fix $X \in \obj{\mathbf{C}}$, by hypothesis ($\phi_X$ is a "morphism" in $\catFunc{\mathbf{D}}{\mathbf{E}}$), $\phi_X: F(X) \Rightarrow F'(X)$ is "natural" in $Y$. Fix $Y \in \obj{\mathbf{D}}$, we need to show the following square "commutes".
		\begin{equation}\label{diag:natcomponentuncurry}
			% https://q.uiver.app/?q=WzAsNCxbMSwwLCJGKFgnKShZKSJdLFsxLDEsIkYnKFgnKShZKSJdLFswLDEsIkYnKFgpKFkpIl0sWzAsMCwiRihYKShZKSJdLFswLDEsIihcXHBoaV97WCd9KV9ZIl0sWzIsMSwiXFxVbmN1cnJ5e0YnfShmLFkpIiwyXSxbMywwLCJcXFVuY3Vycnl7Rn0oZixZKSJdLFszLDIsIihcXHBoaV9YKV9ZIiwyXV0=
		\begin{tikzcd}
			{F(X)(Y)} & {F(X')(Y)} \\
			{F'(X)(Y)} & {F'(X')(Y)}
			\arrow["{(\phi_{X'})_Y}", from=1-2, to=2-2]
			\arrow["{\Uncurry{F'}(f,Y)}"', from=2-1, to=2-2]
			\arrow["{\Uncurry{F}(f,Y)}", from=1-1, to=1-2]
			\arrow["{(\phi_X)_Y}"', from=1-1, to=2-1]
		\end{tikzcd}
		\end{equation}
		Recalling that $\Uncurry{F}(f,Y) = F(f)_Y$ and $\Uncurry{F'}(f,Y)= F'(f)_Y$, we recognize this square as $\NAT(\phi,X,X',f)$ evaluated at $Y$. Finally, we can check that $\Uncurry{\placeholder}$ is a "functor" with the following derivations.
		\begin{gather*}
			(\Uncurry{\one_F})_{X,Y} = ((\one_F)_X)_Y = \id_{F(X)(Y)} = (\one_{\Uncurry{F}})_{X,Y}\\
			(\Uncurry{\phi \vertcomp \eta})_{X,Y} = ((\phi \vertcomp \eta)_X)_Y = (\phi_X)_Y \circ (\eta_X)_Y = (\Uncurry{\phi})_{X,Y} \vertcomp (\Uncurry{\eta})_{X,Y}
		\end{gather*}
		
		The last step (I promise) of this proof is to show that $\Curry{\placeholder}$ and $\Uncurry{\placeholder}$ are inverses of each other. The mindless computations below suffice.
		\begin{gather*}
			\Curry{\Uncurry{F}}(X)(Y) = \Uncurry{F}(X,Y) = F(X)(Y)\\
			\Curry{\Uncurry{F}}(f)_Y = \Uncurry{F}(f,Y) = F(f)_Y
		\end{gather*}
		\begin{gather*}
			\Uncurry{\Curry{F}}(X,Y) = \Curry{F}(X)(Y) = F(X,Y)\\
			\Uncurry{\Curry{F}}(f,g) = \Curry{F}(X')(g) \circ \Curry{F}(f)_Y = F(\id_{X'},g) \circ F(f,\id_Y) = F(f,g)
		\end{gather*}
	\end{enumerate}
\end{exmps}
Although there are other interesting instances of "isomorphic@@CAT" "categories", "natural transformations" lead to a more nuanced (and often more useful) equality between two "categories", that is, "equivalence".
\begin{defn}[Equivalence]
	\AP A "functor" $F:\mathbf{C}\rightsquigarrow \mathbf{D}$ is an ""equivalence"" of "categories" if there exists a "functor" $G:\mathbf{D}\rightsquigarrow \mathbf{C}$ such that $F\circ G\isoCAT \id_{\mathbf{D}}$ and $G\circ F \isoCAT \id_{\mathbf{C}}$.\footnote{Recall that $\isoCAT$ between "functors" stands for "natural isomorphisms".} \AP This is clearly symmetric, so we say two "categories" $\mathbf{C}$ and $\mathbf{D}$ are ""equivalent"", denoted $\mathbf{C} \eqCat \mathbf{D}$, if there is an "equivalence" between them. \AP Moreover, we say that $G$ is a ""quasi-inverse"" of $F$ and vice-versa.
\end{defn}
%TODO: put components as subscripts and add a tiny bit more explainations.
In order to gain more intuition on how "equivalences" equate two "categories", let us observe what properties this forces on the "functor" $F$. For any "morphism" $f \in \Hom_{\mathbf{C}}(A,B)$, the following square "commutes" where $\phi(A)$ and $\phi(B)$ are "isomorphisms@@CAT".\footnote{"Naturality" of $\phi$ only gives us $GF(f) \circ \phi(A) = \phi(B) \circ f$, but by "composing" with $\phi(A)^{-1}$ or $\phi(B)^{-1}$, we obtain the "commutativity" of all of \eqref{diag:bijfromequiv}. In particular, we have $GF(f) = \phi(B) \circ f \circ \phi(A)^{-1}$.}
\begin{equation}\label{diag:bijfromequiv}
% https://q.uiver.app/?q=WzAsNCxbMCwwLCJBIl0sWzAsMSwiR0YoQSkiXSxbMSwxLCJHRihCKSJdLFsxLDAsIkIiXSxbMCwxLCJcXHBoaShBKSJdLFsxLDIsIkdGKGYpIiwyXSxbMCwzLCJmIl0sWzMsMiwiXFxwaGkoQikiLDJdLFsyLDMsIlxccGhpKEIpXnstMX0iLDIseyJvZmZzZXQiOjJ9XSxbMSwwLCJcXHBoaShBKV57LTF9IiwwLHsib2Zmc2V0IjotMn1dXQ==
\begin{tikzcd}
	A & B \\
	{GF(A)} & {GF(B)}
	\arrow["{\phi(A)}", shift left=1, from=1-1, to=2-1]
	\arrow["{GF(f)}"', from=2-1, to=2-2]
	\arrow["f", from=1-1, to=1-2]
	\arrow["{\phi(B)}"', shift right=1, from=1-2, to=2-2]
	\arrow["{\phi(B)^{-1}}"', shift right=1, from=2-2, to=1-2]
	\arrow["{\phi(A)^{-1}}", shift left=1, from=2-1, to=1-1]
\end{tikzcd}
\end{equation}
This implies that the map $f \mapsto GF(f):\Hom_{\mathbf{C}}(A,B) \rightarrow \Hom_{\mathbf{C}}(GF(A), GF(B))$ is a bijection. Indeed, "pre-composition" by $\phi(A)^{-1}$ and "post-composition" by $\phi(B)$ are both bijections,\footnote{Recall the definitions of "monomorphisms" and "epimorphisms" and the fact that "isomorphisms@@CAT" are "monic" and "epic".} so \[f \mapsto \phi(B) \circ f \circ \phi(A)^{-1} = GF(f)\]is a bijection. Since $A$ and $B$ are arbitrary, $G\circ F$ is a "fully faithful" "functor" and a symmetric argument shows $F\circ G$ is also "fully faithful". Then, it is easy to conclude that $F$ and $G$ must be "fully faithful" as well.%TODO: exercise and ref.

What is more, the existence of an "isomorphism@@CAT" $\eta(A): A \rightarrow FG(A)$ for any object $A$ implies $F$ (symmetrically $G$) has the following property.
\begin{defn}[Essentially surjective]
	\AP A "functor" $F:\mathbf{C}\rightsquigarrow \mathbf{D}$ is ""essentially surjective"" if for any $X \in \obj{\mathbf{D}}$, there exists $Y \in \obj{\mathbf{C}}$ such that $X \isoCAT F(Y)$.
\end{defn}
We will show that these two properties ("full faithfulness" and "essential surjectivity") are necessary and sufficient for $F$ to be an "equivalence".
\begin{thm}
	A "functor" $F:\mathbf{C}\rightsquigarrow \mathbf{D}$ is an "equivalence" of "categories" if and only if $F$ is "fully faithful" and "essentially surjective".
\end{thm}
\begin{proof}
	($\Rightarrow$) Shown above.
	
	($\Leftarrow$) We construct a "functor" $G:\mathbf{D}\rightsquigarrow \mathbf{C}$ such that $G\circ F \isoCAT \id_{\mathbf{C}}$ and $F\circ G \isoCAT \id_{\mathbf{D}}$. Since $F$ is "essentially surjective", for any $A \in \obj{\mathbf{D}}$, there exists an object $G(A) \in \obj{\mathbf{C}}$ and an "isomorphism@@CAT" $\phi(A):F(G(A)) \isoCAT A$. Hence, $A \mapsto G(A)$ is a good candidate to describe the action of $G$ on "objects".
	
	Next, similarly to the converse direction, note that for any $A,B \in \obj{\mathbf{D}}$, the map 
	\[f\mapsto \phi(B) \circ f \circ \phi(A)^{-1}\]
	is a bijection from $\Hom_{\mathbf{D}}(A,B)$ to $\Hom_{\mathbf{D}}(FG(A), FG(B))$. Moreover, since the functor $F$ is "fully faithful", it induces a bijection
    \[F_{A,B}: \Hom_{\mathbf{C}}(G(A), G(B)) \rightarrow \Hom_{\mathbf{D}}(FG(A), FG(B))\] which in turns yields a bijection 
	\[G_{A,B}: \Hom_{\mathbf{D}}(A,B) \rightarrow \Hom_{\mathbf{C}}(G(A), G(B)) = f \mapsto F_1^{-1}(\phi(B) \circ f \circ \phi(A)^{-1}).\]
	This is the action of $G$ on "morphisms". Observe that the construction of $G$ ensures that $F\circ G \isoCAT \id_{\mathbf{D}}$ through the "natural transformation" $\phi$. It remains to show that $G$ is indeed a "functor" and find a "natural isomorphism" $\eta:G\circ F \isoCAT \id_{\mathbf{C}}$.
	
	For any "composable" "morphisms" $(f,g)$, it is easy to verify that 
	\[F(G(f)\circ G(g)) = FG(f) \circ FG(g) = FG(f \circ g),\]
	so "functoriality" of $G$ follows after applying $F_1^{-1}$. To find $\eta$, recall that the definition of $G$ yields "commutativity" of \eqref{diag:findingeta} for any $f\in \Hom_{\mathbf{C}}(A,B)$.
	\begin{equation}\label{diag:findingeta}
		\begin{tikzcd}
	F(A) \arrow[d] \arrow[r, "F(f)"]                    & F(B) \arrow[d]                  \\
	FGF(A) \arrow[u, "\phi(F(A))"] \arrow[r, "FGF(f)"'] & FGF(B) \arrow[u, "\phi(F(B))"']
	\end{tikzcd}
	\end{equation}
	
	Then, because $F$ is "fully faithful", the following square also "commutes" in $\mathbf{C}$ where $\eta = X \mapsto F_1^{-1}(\phi(F(X)))$ and we conclude that $\eta$ is a "natural isomorphism" $\id_{\mathbf{C}} \isoCAT G\circ F$.
	\begin{equation}\label{diag:foundeta}
	\begin{tikzcd}
	A \arrow[d] \arrow[r, "f"]                     & B \arrow[d]                 \\
	GF(A) \arrow[u, "\eta(A)"] \arrow[r, "GF(f)"'] & GF(B) \arrow[u, "\eta(B)"']
	\end{tikzcd}
	\end{equation}
\end{proof}
The insight to extract from this argument is that two categories are "equivalent" if they describe the same "objects" and "morphisms" with the only relaxation that "isomorphic@@CAT" "objects" can appear any number of times in either "category". In contrast, "categories" can only be "isomorphic@@CAT" if they have exactly the same "objects" and "morphisms".

\begin{rem} We used the axiom of choice to construct the "quasi-inverse" of $F$.
\end{rem}%TODO: check

We will detail a couple of \textit{easy} examples of "equivalences" and briefly mention a few \textit{harder} ones. Of course, all the "isomorphisms@@CAT" of "categories" we saw earlier are examples of "equivalences" where the "natural isomorphisms" are identities.
\begin{exmps}[Easy]\label{exmps:equiveasy}
	\begin{enumerate}%TODO: weird behaviour of knowledge.
		\itemAP Consider the "full@@CAT" "subcategory" of $\catFinSet$ consisting only of the sets $\emptyset, \{1\}, \{1,2\}, \dots, \{1,\dots,n\},\dots$, denote it $\intro*\catFinOrd$.\footnote{The name $\catFinOrd$ is an abbreviation of finite \href{https://en.wikipedia.org/wiki/Ordinal_number}{ordinals}, because we can also define $\catFinOrd$ as the "category" of finite ordinals and functions between them.} The "inclusion functor" is "fully faithful" by definition and we claim it is "essentially surjective". Indeed, any set $X \in \obj{\catFinSet}$ has a finite cardinality $n$, so $X \isoCAT \{1,\dots,n\} \in \obj{\catFinOrd}$.
		\item In a very similar fashion, an early result in linear algebra says that any "finite dimensional" "vector space" over a "field" $k$ is "isomorphic@@VECT" to $k^n$ for some $n\in \N$. \AP Thus, the "category" whose objects are $k^n$ for all $n\in \N$ and "morphisms" are $m\times n$ "matrices" with entries in $k$,\footnote{After making a choice of "basis" for all $k^n$, an $m\times n$ matrix with entries in $k$ corresponds to a "linear map" $k^n \rightarrow k^m$.} which we denote $\intro*\catMat{k}$, is "equivalent" to the "category" of "finite dimensional" "vector spaces".
		\itemAP\label{exmp:partialpointed} A ""partial"" function $f: X \pfun Y$ is a function that may not be defined on all of $X$.\footnote{\AP In this context, a \textit{normal} function defined on all of $X$ is called ""total"".} There is "category" $\catPar$ of sets and "partial" functions where "identity morphism" and "composition" are defined straightforwardly.\footnote{You can view $\catPar$ as the "subcategory" of $\catRel$ where you only take the relations $R \subseteq X\times Y$ satisfying for any $x \in X$ (cf. Remark \ref{rem:setsubrel}), \[\cardinal{\left\{ y \in Y\mid (x,y) \in R \right\}} \leq 1.\]} We can view a "partial" function $f:X \pfun Y$ as a "total" function $f':X \rightarrow Y\coproduct\terminal$ which assigns to every $x$ where $f(x)$ is undefined the value $\ast \in \terminal$. Further extending $f'$ to $[f',\id_{\terminal}]: X\coproduct\terminal \rightarrow Y\coproduct \terminal$, we can see any "partial" function as a function between "pointed" sets where the distinguished element corresponds to being undefined.
		
		We claim that this yields a "fully faithful" "functor" $\catPar \rightsquigarrow \catPtd$ sending $X$ to $(X\coproduct\terminal, \ast)$ and $f: X \pfun Y$ to $[f',\id_{\terminal}]$. %TODO: FINISH.....If we think of a "pointed" set $(X,x)$ as the set $X\setminus x$ can be seen as a .%TODO: One can also see $\catPtd$ as the "category" of sets and ""partial functions"". 
	\end{enumerate}
\end{exmps}
%TODO: skeletons
The first two examples and many other simple examples of "equivalences" are examples of "skeletons". They are morally a "subcategory" where all the "isomorphic@@CAT" copies are removed.
\begin{defn}[Skeleton]
	\AP A "category" is called ""skeletal"" if there it contains no two "isomorphic@@CAT" "objects". A \textbf{"skeleton"} of a "category" is an "equivalent" "skeletal" "category".
\end{defn}
\begin{exmps}%TODO: posets are skeletal.
	We have shown that $\catFinOrd \eqCat \catFinSet$ and $\catMat{k} \eqCat\catFDVect{k}$ and we leave to you the easy task to check that these are examples of "skeletons".\footnote{Namely, you should show that no two sets in $\catFinOrd$ are "isomorphic@@CAT" and no two spaces in $\catMat{k}$ are "isomorphic@@CAT".}
\end{exmps}
A "category" always has a "skeleton" if you assume the axiom of choice and the next result justifies us calling it \textit{the} "skeleton" of a "category". 
\begin{exer}\label{exer:natural:skeleton}\marginnote{\hyperref[soln:natural:skeleton]{See solution.}}
	Show that all "skeletons" of a "category" are "isomorphic@@CAT".
\end{exer}
Here are other more interesting examples of "equivalent" "categories".
\begin{exmp}[Medium]
	Let $\mathbf{C}$ be a "category", there is a "functor" $F: \mathbf{C} \rightsquigarrow \arrowcat{\mathbf{C}}$ sending $X$ to $\id_X$ and $f: X \rightarrow Y$ to the "commutative" square in \eqref{diag:commutesquareembedarrow}. This "functor" is an "equivalence" if and only if all "morphisms" in $\mathbf{C}$ are "isomorphisms@@CAT".\footnote{Such a "category" is called a ""groupoid"".} It is clearly "fully faithful", so it is left to show $F$ is "essentially surjective" if and only if $\mathbf{C}$ is a "groupoid".
	\begin{marginfigure}\begin{equation}\label{diag:commutesquareembedarrow}
		\begin{tikzcd}
			X & X \\
			Y & Y
			\arrow["{\id_X}", from=1-1, to=1-2]
			\arrow["f"', from=1-1, to=2-1]
			\arrow["{\id_Y}"', from=2-1, to=2-2]
			\arrow["f", from=1-2, to=2-2]
		\end{tikzcd}
	\end{equation}\end{marginfigure}
	($\Rightarrow$) For any $f: X \rightarrow Y \in \mor{\mathbf{C}}$, by hypothesis, there exists $A \in \obj{\mathbf{C}}$ such that $\id_A \isoCAT f$ in $\arrowcat{\mathbf{C}}$. Let $(s: A \rightarrow X ,t: A \rightarrow Y)$ be the "isomorphism@@CAT", its "inverse" must be $(s^{-1},t^{-1})$. Looking at the chain of "commutative" squares in \eqref{diag:chaincommsquare}, we can infer that $s \circ t^{-1}$ is the "inverse" of $f$.\footnote{The "composition" $f \circ s \circ t^{-1}$ is the top path of the combined two leftmost squares, the bottom path is $t \circ t^{-1} \circ \id_Y = \id_Y$. The "composition" $s \circ t^{-1} \circ f$ is the bottom path of the combined two rightmost squares, the top path is $\id_X \circ s \circ s^{-1} =\id_X$.}
	\begin{equation}\label{diag:chaincommsquare}
		% https://q.uiver.app/?q=WzAsMTAsWzEsMCwiQSJdLFsyLDAsIlgiXSxbMSwxLCJBIl0sWzIsMSwiWSJdLFszLDAsIkEiXSxbMywxLCJBIl0sWzQsMCwiWCJdLFs0LDEsIlgiXSxbMCwwLCJZIl0sWzAsMSwiWSJdLFswLDEsInMiXSxbMCwyLCJcXGlkX0EiLDJdLFsyLDMsInQiLDJdLFsxLDMsImYiLDJdLFsxLDQsInNeey0xfSJdLFszLDUsInReey0xfSIsMl0sWzQsNSwiXFxpZF9BIiwyXSxbNCw2LCJzIl0sWzUsNywicyIsMl0sWzYsNywiXFxpZF9YIl0sWzgsMCwidF57LTF9Il0sWzgsOSwiXFxpZF9ZIiwyXSxbOSwyLCJ0XnstMX0iLDJdLFs5LDMsIlxcaWRfWSIsMix7ImN1cnZlIjozfV0sWzEsNiwiXFxpZF9YIiwyLHsiY3VydmUiOi0zfV1d
		\begin{tikzcd}
			Y & A & X & A & X \\
			Y & A & Y & A & X
			\arrow["s", from=1-2, to=1-3]
			\arrow["{\id_A}"', from=1-2, to=2-2]
			\arrow["t"', from=2-2, to=2-3]
			\arrow["f"', from=1-3, to=2-3]
			\arrow["{s^{-1}}", from=1-3, to=1-4]
			\arrow["{t^{-1}}"', from=2-3, to=2-4]
			\arrow["{\id_A}"', from=1-4, to=2-4]
			\arrow["s", from=1-4, to=1-5]
			\arrow["s"', from=2-4, to=2-5]
			\arrow["{\id_X}", from=1-5, to=2-5]
			\arrow["{t^{-1}}", from=1-1, to=1-2]
			\arrow["{\id_Y}"', from=1-1, to=2-1]
			\arrow["{t^{-1}}"', from=2-1, to=2-2]
		\end{tikzcd}
	\end{equation}

	($\Leftarrow$) Let $f: X \rightarrow Y$ be an "object" of $\arrowcat{\mathbf{C}}$, the inverse of $f$ satisfies $f \circ f^{-1} = \id_Y$ and $f^{-1} \circ f = \id_X$, so the squares in \eqref{diag:twocommsquares} are "isomorphisms@@CAT" in $\arrowcat{\mathbf{C}}$ (they are inverses of each other). Thus, we find that $f$ is "isomorphic@@CAT" to $\id_X$ which is in the image of $F$.\begin{marginfigure}[-2\baselineskip]\begin{equation}\label{diag:twocommsquares}
		% https://q.uiver.app/?q=WzAsOCxbMCwwLCJYIl0sWzAsMSwiWCJdLFsxLDAsIlgiXSxbMSwxLCJZIl0sWzMsMCwiWCJdLFszLDEsIlgiXSxbNCwwLCJZIl0sWzQsMSwiWCJdLFswLDEsIlxcaWRfWCIsMl0sWzAsMiwiXFxpZF9YIl0sWzIsMywiZiJdLFsxLDMsImYiLDJdLFs0LDUsIlxcaWRfWCIsMl0sWzQsNiwiZiJdLFs2LDcsImZeey0xfSJdLFs1LDcsIlxcaWRfWCIsMl1d
		\begin{tikzcd}
			X & X && X & Y \\
			X & Y && X & X
			\arrow["{\id_X}"', from=1-1, to=2-1]
			\arrow["{\id_X}", from=1-1, to=1-2]
			\arrow["f", from=1-2, to=2-2]
			\arrow["f"', from=2-1, to=2-2]
			\arrow["{\id_X}"', from=1-4, to=2-4]
			\arrow["f", from=1-4, to=1-5]
			\arrow["{f^{-1}}", from=1-5, to=2-5]
			\arrow["{\id_X}"', from=2-4, to=2-5]
		\end{tikzcd}
	\end{equation}\end{marginfigure}
\end{exmp}
\begin{exmps}[Hard] Examples of significant "equivalences" are all over the place in higher mathematics. However, they require a bit of work to describe them, thus let us only say a few words on them.
	\begin{enumerate}
		\item The "equivalence" between the "category" of affine schemes and the "opposite" of the "category" of "commutative rings" is a seminal result in scheme theory, a huge part of modern algebraic geometry.%TODO: check if seminal
		\item The "equivalence" between Boolean lattices and Stone spaces is again seminal in the theory of Stone-type dualities. These can lead to deep connections between topology and logic. One application in particular is the study of the behavior of computer programs through formal semantics.
	\end{enumerate} %TODO: maybe do a guided exercise for the baby stone duality.
\end{exmps}
\begin{exer}\label{exer:natural:equivequiv}
	Show that "equivalence" of "categories" is an equivalence relation.\marginnote{\hyperref[soln:natural:equivequiv]{See solution.}}
\end{exer}
\begin{exer}\label{exer:natural:equivfunccat}
	Show that $\mathbf{C} \eqCat \mathbf{C}'$ and $\mathbf{D} \eqCat \mathbf{D}'$ implies $\catFunc{\mathbf{C}}{\mathbf{D}} \eqCat \catFunc{\mathbf{C}'}{\mathbf{D}'}$.\marginnote{\hyperref[soln:natural:equivfunccat]{See solution.}}
\end{exer}
\end{document}