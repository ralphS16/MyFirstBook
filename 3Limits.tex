\documentclass[main.tex]{subfiles}
\begin{document}
\chapter{Limits and Colimits}\label{chap:limits}
%TODO: relation is span, then pullback is almost composition.
%TODO: can we do pushout rewriting? 
%TODO: use each limit at least once in a categorical context, equalizer of idempotents etc..
%TODO: say we will be loose on equality and isoCAT because limits are defined up to unique iso.
%TODO: new notation for pullback.
The unifying power of categorical abstraction is arguably its biggest benefit. Indeed, it is often the case that many mathematical objects or results from different fields fit under the same categorical definition or fact. In my opinion, category theory is at its peak of elegance when a complex idea becomes close to trivial when viewed categorically, and when this same view helps link together the intuitions behind many ideas throughout mathematics.

The next two chapters concern one particular instance of this power, that is, the use of "universal properties" to define mathematical constructions. This chapter will cover "limits" and "colimits" which are specific cases of "universal" constructions. The term \textit{"universal"} is somewhat delicate to define, therefore, we postpone its definition to next chapter and for a while, I recommend you try to recognize \textit{"universality"} as the thing that all definitions of "(co)@colimits""limits" given below have in common.

The first section presents several examples; each of its subsection is dedicated to one kind of "limit" or "colimit" of which a detailed example in $\catSet$ is given along with a couple of interesting examples in other "categories". It is not straightforward to build intuition about all kinds of "(co)@colimits""limits" due to their innumerable applications. For now, I think it is fine if you are comfortable with the intuition in $\catSet$ as it transposes well to "concrete" "categories", but if you persist in learning category theory, you will get to see examples with other flavors. The second section gives a formal framework to talk about all the examples previously explored as well as a few general results. In the sequel, $\mathbf{C}$ denotes a "category". %TODO: see if last sentence is used.

\section{Examples}
Before giving the definition of "(co)@colimit""limits" which is very abstract, we present a lot of examples of how they are used. These are very interesting on their own because they show you how many things mathematicians care about in different contexts can be seen as the same abstract construction. Still, keep in mind that, after adding another level of abstraction, we will bring all these examples together as instances of "(co)@colimit""limits".
\subsection{Product}
Given two sets $S$ and $T$, the most common construction of the Cartesian product $S \times T$ is conceptually easy: you take all pairs of elements $S$ and $T$, that is,
\[S\times T := \left\{ (s,t) \mid s \in S, t \in T\right\}.\]
However, this does not have a nice categorical analog because it requires picking out elements in $S$ and $T$. If one hopes to generalize products to other "categories", the construction must only involve "objects" and "morphisms".
\begin{quest}
    What are significant functions ("morphisms" in $\catSet$) to consider when studying $S \times T$?
\end{quest}
\begin{proof}[Answer]
    Projection maps. They are functions $\pi_1: S\times T \rightarrow S$ and $\pi_2: S\times T \rightarrow T$,\footnote{The projections are defined by $\pi_1(s,t) = s$ and $\pi_2(s,t)= t$ for all $(s,t) \in S \times T$.} but that is not enough to define the product. Indeed, there are projection maps $\pi_1': S\times T \times S \rightarrow S$ and $\pi_2' : S \times T \times S \rightarrow T$, but $S \times T \times S$ is not always "isomorphic@@CAT" to $S\times T$.
\end{proof}
\begin{quest}
    What is \textit{unique}\footnote{Always up to "isomorphism@@CAT" of course.} about $S\times T$ with the projections $\pi_1$ and $\pi_2$?
\end{quest}
\begin{proof}[Answer]
For one, $\pi_1$ and $\pi_2$ are surjective, and while they are not injective, they have an invertible-like property. Namely, given $s \in S$ and $t \in T$, the pair $(s, t)$ is completely determined from $\pi_1^{-1}(s) \cap \pi_2^{-1}(t)$.
\end{proof}

Again, in order to get rid of the references to specific elements, another point of view is needed. Let $X$ be a set of \textit{choices} of pairs, an element $x \in X$ chooses elements in $S$ and $T$ via functions $c_1 : X \rightarrow S$ and $c_2: X \rightarrow T$ (similar to the projections). Now, the \textit{almost-inverse} defined above yields a function
\[!:X \rightarrow S\times T = x \mapsto \pi^{-1}(c_1(x)) \cap \pi^{-1}(c_2(x)).\]
This function maps $x \in X$ to an element in $S\times T$ that makes the same choice as $x$, and it is the only one that does so. Categorically, $!$ is the unique "morphism" in $\Hom_{\mathbf{C}}(X, S\times T)$ satisfying $\pi_i\circ {!} = c_i$ for $i =1,2$. Later, we will see that this property completely determines $S\times T$. For now, enjoy the power we gain from generalizing this idea.
\begin{defn}[Binary product]\label{defn:binprod}
    \AP Let $A, B \in \obj{\mathbf{C}}$. A (categorical) ""binary product"" of $A$ and $B$ is an "object", denoted $A \product B$, along with two "morphisms" $\projection_A: A \product B \rightarrow A$ and $\projection_B: A \product B \rightarrow B$ called ""projections"" that satisfy the following "universal property"\footnote{Remember that the word "universal" is not yet defined, we are trying to get an idea of what it means with these examples.}: for every "object" $X \in \obj{\mathbf{C}}$ with "morphisms" $f_A: X\rightarrow A$ and $f_B:X \rightarrow B$, there is a unique "morphism" $!: X \rightarrow A \product B$ making diagram \eqref{diag:produniv} "commute".\footnote{\AP We will often denote $! = \intro*\pair{f_A, f_B}$.}
    \begin{equation}
    \begin{tikzcd}\label{diag:produniv}
        & X \arrow[ld, "f_A"'] \arrow[rd, "f_B"] \arrow[d, "!", dashed] &   \\
        A & A\product B \arrow[l, "\projection_A"] \arrow[r, "\projection_B"']              & B
    \end{tikzcd}
    \end{equation}
\end{defn}
\begin{exmp}[$\catSet$]
    Cleaning up the argument above, we show that the Cartesian product $A \times B$ with the usual projections is a "binary product" in $\catSet$. To show that it satisfies the "universal property", let $X$, $f_A$ and $f_B$ be as in the definition. A function $!:X\rightarrow A \times B$ that makes \eqref{diag:produniv} "commute" must satisfy
    \[\forall x\in X, \projection_A(!(x)) = f_A(x) \text{ and } \projection_B(!(x)) = f_B(x).\]
    Equivalently, $!(x) = (f_A(x), f_B(x))$. Since this uniquely determines $!$, $A \times B$ is indeed the "binary product".
\end{exmp}
\begin{exmps}
    Most of the constructions throughout mathematics with the name \textit{product} can also be realized with a categorical "product@bproduct". Examples include the "product" of "groups", "rings" or "vector spaces", the product of topologies, etc. The fact that all these constructions are based on the Cartesian product of the underlying sets is a corollary of a deeper result about the "forgetful" "functors" that all these "categories" have in common.\footnote{We show in Chapter \ref{chap:adjoints} that these "forgetful" "functors" are "right adjoints" and thus they "preserve" "binary products" (Proposition \ref{prop:adjproduct}).}

    In another flavor, let $X$ be a "topological space" and $\catOpens(X)$ be the "category" of "opens". If $A, B \subseteq X$ are "open", what is their "product@bproduct"? Following Definition \ref{defn:binprod}, the existence of $\projection_A$ and $\projection_B$ imply that $A\product B$\footnote{Recall that $\product$ denotes the categorical "product@bproduct", not the Cartesian product of sets.} is included in both sets, or equivalently $A \product B \subseteq A \cap B$.
    
    Moreover, for any "open set" $X$ included in $A$ and $B$ (via $f_A$ and $f_B$), $X$ should be included in $A \product B$ (via $!$).\footnote{Notice that uniqueness of $!$ is already given in a "posetal" "category".} In particular, $X$ can be $A \cap B$ (it is "open" by definition of a "topology"), thus $A \cap B \subseteq A \product B$. In conclusion, the "product@bproduct" of two "open sets" is their intersection. In an arbitrary "poset", the same argument is used to show the "product@bproduct" is the "greatest lower bound"/"infimum"/"meet".
\end{exmps}
\begin{rem}
    Given two "objects" in an arbitrary "category", their "product@bproduct" does not necessarily exist. Nevertheless, when it exists, one can (and we will) show that it is unique up to unique "isomorphism".\footnote{The uniqueness of the "isomorphism@CAT" is under the condition that it preserves the structure of the "product@bproduct". We will clear up this subtlety in Remark \ref{rem:uniqueiso}.} Thus, in the sequel, we will speak of \textit{the} "product@bproduct" of two "objects" and similarly for other constructions presented in this chapter. Moreover, we will often refer to the "object" $A \product B$ alone (without the "projections") as the "product@bproduct".
\end{rem}
\begin{exer}\label{exer:limits:prodrel}\marginnote{\hyperref[soln:limits:prodrel]{See solution.}}
    Let $A$ and $B$ be two sets, show that their "product@bproduct" exists in the "category" $\catRel$ and find what it is.
\end{exer}

Before reaching even more generality, it is sane to check that we can prove some properties of the Cartesian product using the categorical definition. This would ensure that we are not venturing in useless abstract nonsense. We prove the harder one and leave you two easier ones as exercises.
\begin{prop}
    Let $A,B,C \in \obj{\mathbf{C}}$ be such that $A \product B$ and $B \product C$ exist. If $A\product (B \product C)$ exists, then $(A \product B) \product C$ exists and both "products@bproduct" are "isomorphic@@CAT". In other words, the "binary product" is associative.\footnote{Just like the Cartesian product is associative (up to "isomorphism@@CAT"). The existence hypothesis is not necessary in $\catSet$ because the Cartesian product of any two sets always exists.}
\end{prop}
\begin{proof}
    We will show that $A\product (B \product C)$ satisfies the definition of the "product@bproduct" $(A \product B) \product C$ with "projections" defined below. This means $(A \product B) \product C$ exists and the fact that $A\product (B \product C) \isoCAT (A \product B) \product C$ follows trivially (we defined them to be the same object).\footnote{In any case, as we will prove in Proposition \ref{prop:limunique}, if you had another construction for $(A \product B) \product C$, it would be "isomorphic@@CAT" to ours.}

    First, we need two "projections" $\projection_{A\product B} : A\product (B \product C) \rightarrow A \product B$ and $\projection_C: A\product (B \product C) \rightarrow C$. In the diagram below, we show how to obtain them.\footnote{We overload the notation and rely on the "source" and "target" of the "morphisms" to avoid confusion}
    \begin{equation}\label{diag:prodassoc}
        % https://q.uiver.app/?q=WzAsNixbMiwyLCJCIl0sWzAsMiwiQSJdLFs0LDIsIkMiXSxbMSwxLCJBXFxwcm9kdWN0IEIiXSxbMiwwLCJBXFxwcm9kdWN0IChCXFxwcm9kdWN0IEMpIl0sWzMsMSwiQlxccHJvZHVjdCBDIl0sWzQsMSwiXFxwcm9qZWN0aW9uX0EiLDIseyJjdXJ2ZSI6NX1dLFs0LDUsIlxccHJvamVjdGlvbl97QlxccHJvZHVjdCBDfSIsMl0sWzQsMiwiXFxwcm9qZWN0aW9uX0MiLDAseyJjdXJ2ZSI6LTUsInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dLFs0LDMsIlxccHJvamVjdGlvbl97QVxccHJvZHVjdCBCfSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRvdHRlZCJ9fX1dLFszLDEsIlxccHJvamVjdGlvbl9BIl0sWzMsMCwiXFxwcm9qZWN0aW9uX0IiLDJdLFs1LDAsIlxccHJvamVjdGlvbl9CIl0sWzUsMiwiXFxwcm9qZWN0aW9uX0MiLDJdXQ==
        \begin{tikzcd}
        && {A\product (B\product C)} \\
        & {A\product B} && {B\product C} \\
        A && B && C
        \arrow["{\projection_A}"', curve={height=30pt}, from=1-3, to=3-1]
        \arrow["{\projection_{B\product C}}"', from=1-3, to=2-4]
        \arrow["{\projection_C}", curve={height=-30pt}, dotted, from=1-3, to=3-5]
        \arrow["{\projection_{A\product B}}", dotted, from=1-3, to=2-2]
        \arrow["{\projection_A}", from=2-2, to=3-1]
        \arrow["{\projection_B}"', from=2-2, to=3-3]
        \arrow["{\projection_B}", from=2-4, to=3-3]
        \arrow["{\projection_C}"', from=2-4, to=3-5]
        \end{tikzcd}
    \end{equation}
    The dotted "arrow" $\projection_C$ is simply the "composition" $\projection_C \circ \projection_{B\product C}$. The dotted "arrow" $\projection_{A\product B}$ is obtained via the property of the "product@bproduct" $A \product B$ and the morphisms $\projection_A: A\product (B\product C) \rightarrow A$ and $\projection_B \circ \projection_{B\product C}: A\product (B\product C) \rightarrow B$. It is the unique "morphism" making \eqref{diag:prodassoc} "commute", that is, $\projection_{A \product B} = \pair{\projection_A, \projection_B \circ \projection_{B \product C}}$.

    Suppose there is an "object" $X$ and "morphisms" $p_{A\product B}: X \rightarrow A\product B$ and $p_C: X \rightarrow C$. We need to find $!:X \rightarrow A\product(B\product C)$ that makes \eqref{diag:prodassocmediate} "commute" and is unique with that property. By "post-composing" with the appropriate "projections", we can see how $!$ acts from the point of view of $A$, $B$ and $C$:
    \begin{gather*}
        \projection_A \circ {!} = \projection_A \circ \pair{\projection_A, \projection_B \circ \projection_{B \product C}} \circ {!} = \projection_A \circ p_{A\product B}\\
        \projection_B \circ \projection_{B\product C} \circ {!} = \projection_B \circ \pair{\projection_A, \projection_B \circ \projection_{B \product C}} \circ {!} = \projection_B \circ p_{A\product B}\\
        \projection_C \circ \projection_{B\product C} \circ {!} = p_C.
    \end{gather*}
    By the "universal property" of $B\product C$, we find that $\projection_{B\product C} \circ {!} = \pair{\projection_B \circ p_{A\product B},p_C}$ and then by the "universal property" of $A\product (B\product C)$, we find that $! = \pair{\projection_A \circ p_{A\product B}, \pair{\projection_B \circ p_{A\product B},p_C}}$. The two uses of "universal properties" ensures that we found the unique possible choice for $!$.
\end{proof}
\begin{exer}\label{exer:limits:prodcommute}\marginnote{\hyperref[soln:limits:prodcommute]{See solution.}}
    Let $A,B \in \obj{\mathbf{C}}$. If $A \product B$ exists, then $B \product A$ exists and both "products@bproduct" are "isomorphic@@CAT". In other words, the "binary product" is commutative.\footnote{Just like the Cartesian product is commutative (up to "isomorphism@@CAT").}
\end{exer}
\begin{exer}\label{exer:limits:termneutralprod}\marginnote{\hyperref[soln:limits:termneutralprod]{See solution.}}
    Let $\terminal$ be the "terminal" "object" in $\mathbf{C}$. Show that for any $A \in \obj{\mathbf{C}}$, the product of $\terminal$ and $A$ is $A$.\footnote{This property is expected because in $\catSet$, $\terminal = \{\ast\}$ and \[\{\ast\} \times A = \{(\ast,a)\mid a \in A\} \isoCAT A.\]}
\end{exer}

To generalize the categorical "product@bproduct" to more than two "objects", one can, for instance, define the "product@bproduct" of a finite family of sets recursively with the "binary product".\footnote{For a family $\{X_1,\dots, X_n\} \subseteq \obj{\mathbf{C}}$:\begin{align*}
    \prod_{i=1}^n X_i = \begin{cases}
        X_1 &n=1\\
        \left( \prod_{i=1}^{n-1} X_i \right) \product X_n &n > 1
    \end{cases}
\end{align*}} This is well-defined thanks to the associativity and commutativity of $\product$, but the proofs above are messy and they will not generalize to the infinite case. In contrast, generalizing the "universal property" illustrated in \eqref{diag:produniv} yields a simpler definition that works even for arbitrary families.
\begin{defn}[Product]
    \AP Let $\{X\}_{i \in I}$ be an $I$--indexed family of "objects" of $\mathbf{C}$. The ""product"" of this family is an "object", denoted $\Product_{i \in I} X_i$ along with "projections" $\projection_j: \Product_{i \in I} X_i \rightarrow X_j$ for all $j \in I$ satisfying the following "universal property": for any "object" $X$ with "morphisms" $\left\{ f_j: X\rightarrow X_j\right\}_{j \in I}$, there is a unique "morphism" $!: X \rightarrow \Product_{i \in I} X_i$ making \eqref{diag:arbitraryproduniv} "commute" for all $j \in I$.\footnote{Analogously to the binary case, we may write $! = \pair{f_j}_{j\in I}$ or, in the finite case, $! = \pair{f_1, \dots, f_n}$.}
    \begin{equation}\label{diag:arbitraryproduniv}
        \begin{tikzcd}
        X \arrow[d, "!"', dashed] \arrow[rd, "f_j"] &     \\
        \Product_{i \in I}X_i \arrow[r, "\projection_j"']     & X_j
        \end{tikzcd}
    \end{equation}
\end{defn}
\begin{warn}
    In a lot of cases, the arbitary "product" will be a straightforward generalization of the "binary product",\footnote{e.g.: in $\catSet$, the Cartesian product of an arbitrary family of sets is still the set of ordered tuples (instead of pairs) of elements in the sets.} but that is not true in all cases. For instance, in the "category" of "open" subsets of a "topological space", the arbitrary "product" is not always the intersection. This is because arbitrary intersections of "open sets" are not necessarily "open". To resolve this problem, it suffices to take the "interior" of the intersection which is "open" by definition.
\end{warn}
Here are three more properties of Cartesian products that generalize to categorical "products".
\begin{exer}[\NOW]\label{exer:limits:functionproduct}\marginnote{\hyperref[soln:limits:functionproduct]{See solution.}}
    Let $\{f_i : X_i \rightarrow Y_i\}_{i \in I}$ be a family of "morphisms" in $\mathbf{C}$, show that there is a unique "morphism" $\Product_{i \in I} f_i: \Product_{i \in I} X_i \rightarrow\Product_{i \in I} Y_i$ making the following square "commute" for all $j \in I$.
    \begin{equation}\label{diag:prodmorph}
        % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXFByb2R1Y3Rfe2kgXFxpbiBJfSBYX2kiXSxbMSwwLCJcXFByb2R1Y3Rfe2kgXFxpbiBJfSBZX2kiXSxbMSwxLCJZX2oiXSxbMCwxLCJYX2oiXSxbMCwxLCJcXFByb2R1Y3Rfe2kgXFxpbiBJfSBmX2kiXSxbMSwyLCJcXHBpX2oiXSxbMCwzLCJcXHBpX2oiLDJdLFszLDIsImZfaSIsMl1d
        \begin{tikzcd}
            {\Product_{i \in I} X_i} & {\Product_{i \in I} Y_i} \\
            {X_j} & {Y_j}
            \arrow["{\Product_{i \in I} f_i}", from=1-1, to=1-2]
            \arrow["{\projection_j}", from=1-2, to=2-2]
            \arrow["{\projection_j}"', from=1-1, to=2-1]
            \arrow["{f_j}"', from=2-1, to=2-2]
        \end{tikzcd}
    \end{equation}
    \AP We call $\Product_{i \in I} f_i$ the ""product of morphisms@productm"". In the finite case, we will write $f_1 \productm \cdots \productm f_n$.
\end{exer}
\begin{exer}\label{exer:limits:prodmediatecomposed}\marginnote{\hyperref[soln:limits:prodmediatecomposed]{See solution.}}
    Let $X$, $Y$ and $\{X_i\}_{i \in I}$ be "objects" of $\mathbf{C}$ such that $\Product_{i \in I} X_i$ exists. For any family $f_i: X \rightarrow X_i$ and $g: Y \rightarrow X$ show that $\pair{f_i}_{i \in I} \circ g = \pair{f_i \circ g}_{i \in I}$. Conclude that for families $\{f_i : X_i \rightarrow Y_i\}_{i \in I}$ and $\{g_i : Z_i \rightarrow X_i\}_{i \in I}$, $\left( \Product f_i \right) \circ \left( \Product g_i \right) = \Product (f_i \circ g_i)$.\footnote{It may be useful to restate this in the binary case. For any $f: X \rightarrow Y$, $f': X' \rightarrow Y'$, $g:Z \rightarrow X$ and $g': Z' \rightarrow X'$, we have
    \[(f \productm f') \circ (g \productm g') = (f \circ g) \productm (g \circ g').\]}
\end{exer}
A family of "objects" in $\mathbf{C}$ is also called a ""discrete"" "diagram",\footnote{Because it corresponds to a "functor" from a "discrete" "category" (one with no non-"identity" "morphisms") into $\mathbf{C}$ (recall that a "diagram" is a "functor" into $\mathbf{C}$).} we will call the "product" of this family the "limit" of this "diagram". The big takeaway from last chapter is that each time we read a new definition, it is worth to "dualize@@CAT" it. Thus, we ask: what is the "colimit" of a "discrete" "diagram"?
\subsection{Coproduct}
\begin{defn}[Coproduct]\label{defn:coproduct}
    \AP Let $\{X\}_{i \in I}$ be an $I$--indexed family of "objects" in $\mathbf{C}$, its ""coproduct"" is an "object", denoted $\Coproduct_{i \in I} X_i$ (or $X_1 \coproduct X_2$ in the binary case), \AP along with "morphisms" $\coprojection_j: X_j \rightarrow \Coproduct_{i \in I} X_i$ for all $j \in I$ called ""coprojections"" satisfying the following "universal property": for any object $X$ with "morphisms" $\left\{ f_j: X_j \rightarrow X\right\}_{j\in I}$, there is a unique "morphism" $!: \Coproduct_{i \in I}X_i \rightarrow X$ making \eqref{diag:arbitrarycoproduniv} "commute" for all $j \in I$.\footnote{We may denote $! = \copair{f_j}_{j \in I}$ or, in the finite case, $! = \copair{f_1, \dots, f_n}$.}
    \begin{equation}\label{diag:arbitrarycoproduniv}
        \begin{tikzcd}
        X_j  \arrow[r, "\coprojection_j"] \arrow[rd, "f_j"'] &\Coproduct_{i \in I}X_i\arrow[d, "!", dashed]\\
        & X
        \end{tikzcd}
    \end{equation}
\end{defn}
Let us find out what "coproducts" of sets are.
\begin{exmp}[$\catSet$]
    Let $\{X_i\}_{i \in I}$ be a family of sets, first note that if $X_j = \emptyset$ for $j \in I$, then there is only one "morphism" $X_j \rightarrow X$ for any $X$.\footnote{Because $\emptyset$ is "initial".} In particular, \eqref{diag:arbitrarycoproduniv} "commutes" no matter what $\Coproduct_{i \in I} X_i$ and $X$ are. Therefore, removing $X_j$ from this family does not change how the "coproduct" behaves, hence no generality is loss from assuming all $X_i$s are non-empty.

    Second, for any $j \in I$, let $X = X_j$, $f_j = \id_{X_j}$ and for any $j' \neq j$, let $f_{j'}$ be any function in $\Hom(X_{j'}, X_j)$.\footnote{One exists because $X_j$ is non-empty.} "Commutativity" of \eqref{diag:arbitrarycoproduniv} implies $\coprojection_j$ has a "left inverse" because ${!}\circ \coprojection_j = f_j = \id_{X_j}$, so all "coprojections" are injective.

    Third, we claim that for any $j \neq j' \in I$, $\im(\coprojection_j) \cap \im(\coprojection_{j'}) = \emptyset$. Assume towards a contradiction that there exists $j\neq j' \in I$, $x \in X_j$ and $x' \in X_{j'}$ such that $\coprojection_j(x) = \coprojection_{j'}(x')$. Then, let $X = \{0,1\}$, $f_j \equiv 0$, $f_{j'} \equiv 1$ and the other "morphisms" be chosen arbitrarily. The "universal property" implies that ${!}\circ \coprojection_j \equiv 0$ and ${!}\circ \coprojection_{j'} \equiv 1$, but it contradicts $!(\coprojection_j(x)) = {!}(\coprojection_{j'}(x'))$.%TODO: explain notation \equiv at start of prelim.

    Finally, the previous point says that $\Coproduct_{i\in I} X_i$ contains distinct copies of the images of all "coprojections". Furthermore, the $\coprojection_j$s being injective, their image can be identified with the $X_j$s to obtain\footnote{The symbol $\sqcup$ denotes the disjoint union of sets.} \[\bigsqcup_{i \in I} X_i \subseteq \Coproduct_{i \in I} X_i.\]
    For the converse inclusion, in \eqref{diag:arbitrarycoproduniv}, let $X$ be the disjoint union and the $f_j$s be the inclusions. Assume there exists $x$ in the R.H.S. that is not in the L.H.S., then we can define $!': \Coproduct_{i \in I} X_i\rightarrow \bigsqcup_{i \in I} X_i$ that only differs from $!$ at $x$. Since $x$ is not in the image of any coprojection, the diagrams still "commute" and this contradicts the uniqueness of $!$.

    In conclusion, the "coproduct" in $\catSet$ is the disjoint union and the "coprojections" are the inclusions.\footnote{We recover the intuition for why empty sets can be ignored. This is a general fact proven in Exercise \ref{exer:limits:proddualcoprod}.}
\end{exmp}
\begin{rem}
    If this example looks more complicated than the "product" of sets, it is because we started knowing nothing concrete about "coproducts" of sets and gradually discovered what properties they had using specific "objects" and "morphisms" we know exist in $\catSet$. In contrast, we knew what "products" of sets were, and we just had to show they satisfied the "universal property".\footnote{One might argue that coming up with this "universal property" was the hard part in that case.}

    In general, the hard part is to find what construction satisfies a "universal property", proving it does is easier.
\end{rem}
\begin{exmps}
    \textbf{In the "category" of "open sets" of $(X, \tau)$:} let $\{U_i\}_{i \in I}$ be a family of "open sets" and suppose $\Coproduct_i U_i$ exists. The "coprojections" yield inclusions $U_j \subseteq \Coproduct_i U_i$ for all $j \in I$, so $\Coproduct_i U_i$ must contain all $U_j$s and thus $\cup_i U_i$. Moreover, in \eqref{diag:arbitrarycoproduniv}, letting $f_j$ be the inclusion $U_j \hookrightarrow \cup_iU_i$ for all $j\in I$,\footnote{These "morphisms" are in $\catOpens(X)$ because $\cup_i U_i$ is open.} the existence of $!$ yields an inclusion $\Coproduct_i U_i \subseteq \cup_i U_i$. We conclude that the "coproduct" in this "category" is the union. In an arbitrary "poset", the same argument is used to show the "coproduct" is the "least upper bound"/"supremum"/"join".

    \textbf{In $\catVect{k}$:} the "coproduct", also called the direct sum, is defined by\footnote{Here, the symbol $\prod$ denotes the Cartesian product of the $V_i$s as sets. The categorical "product" of "vector spaces" is also the direct sum, where the "projections" are the usual ones.} 
    \[\Coproduct_{i \in I} V_i = \bigoplus_{i \in I} V_i := \left\{ v \in \prod_{i\in I}V_i \mid v(i) \neq 0 \text{ for finitely many $i$'s} \right\},\]
    where $\coprojection_j: V_j \hookrightarrow \Coproduct_i V_i$ sends $v$ to $\bar{v} \in \prod_i V_i$ with $\bar{v}_j = v$ and $\bar{v}_{j'} = 0$ whenever $j \neq j'$. To verify this, let $\left\{ f_j: V_j \rightarrow X\right\}_{j \in I}$ be a family of "linear maps". We can construct $!$ by defining it on "basis" elements of the "direct sum", which are just the "basis" elements of all $V_j$s seen as elements of the "sum@direct sum" (via the "coprojections").\footnote{It is necessary to require finitely many non-zero entries, otherwise the "basis" of the "coproduct" would not be the union of all bases of the $V_j$s.} Indeed, if $b$ is in the "basis" of $V_j$, we let $!(\bar{b}) = f_j(b)$. Extending linearly yields a "linear map" $!: \Coproduct_iV_i \rightarrow X$. Uniqueness is clear because if $h:\Coproduct_iV_i \rightarrow X$ differs from $!$ on one of the basis elements, it does not make \eqref{diag:arbitrarycoproduniv} commute.
\end{exmps}
\begin{exer}\label{exer:limits:coprodrel}\marginnote{\hyperref[soln:limits:coprodrel]{See solution.}}
    Let $A$ and $B$ be two sets, show that their "coproduct" exists in the "category" $\catRel$ and find what it is.
\end{exer}
\begin{exer}\label{exer:limits:proddualcoprod}\marginnote{\hyperref[soln:limits:proddualcoprod]{See solution.}}
    Show that "products" are "dual" to "coproducts", namely, if a "product" of a familiy $\{X_i\}_{i \in I}$ exists in $\mathbf{C}$, then this "object" and the "projections" are the "coproduct" of this family and the "coprojections" in $\op{\mathbf{C}}$ and vice-versa. \AP Conclude that you can define the ""coproduct of morphisms@coproductm"" "dually@@CAT" to Exercise \ref{exer:limits:functionproduct}, we denote them $\Coproduct_{i \in I}f_i$ or $f_1 \coproductm \cdots \coproduct f_n$ in the finite case.
\end{exer}
\begin{exer}\label{exer:limits:mediattingcoprodcomposed}\marginnote{\hyperref[soln:limits:mediattingcoprodcomposed]{See solution.}}
    "Dually@@CAT" to Exercise \ref{exer:limits:prodmediatecomposed}, show that if $X$, $Y$ and $\{X_i\}_{i \in I}$ are "objects" of $\mathbf{C}$ such that $\Product_{i \in I} X_i$ exists, then for any family $f_i: X_i \rightarrow X$ and $g: X \rightarrow Y$ show that $g \circ \copair{f_i}_{i \in I} = \copair{g \circ f_i}_{i \in I}$.
\end{exer}

\begin{exer}\label{exer:limits:maybefunctor}\marginnote{\hyperref[soln:limits:maybefunctor]{See solution.}}%TODO: solve
    Let $\mathbf{C}$ have a "terminal" "object" $\terminal$. Show that the assignment $X \mapsto X\coproduct\terminal$ is "functorial", i.e.: define the action of $(\placeholder+\terminal)$ on "morphisms" and show it satisfies the axioms of a "functor".\footnote{\AP We call $(\placeholder\coproduct\terminal)$ the ""maybe functor"".}
\end{exer}

In a very similar way to the "product" and "coproduct", we will define various constructions in $\catSet$ as "limits" or "colimits".\footnote{We will follow more closely the section on "coproducts" where we started with the definition of the "(co)@colimit""limit" and then detailed an example in $\catSet$.}
\subsection{Equalizer}
We briefly mentioned that a "product" (resp. "coproduct") is a "limit" (resp. "colimit") of a "discrete" "diagram". The rest of the examples before generalizing will be "(co)@colimit""limits" of small "diagrams" that contain "morphisms".
\begin{defn}[Fork]
    \AP A ""fork"" in $\mathbf{C}$ is a "diagram" of "shape" \eqref{diag:fork} or \eqref{diag:cofork} that "commutes".\footnote{Once again, we make use of our convention that "commutativity" does not make "parallel" "morphisms" equal.}\\
    \begin{minipage}{0.49\textwidth}
        \begin{equation}\label{diag:fork}
            \begin{tikzcd}
                O \arrow[r, "o"] & A \arrow[r, "f", shift left] \arrow[r, "g"', shift right] & B
            \end{tikzcd}
        \end{equation}
    \end{minipage}
    \begin{minipage}{0.49\textwidth}
        \begin{equation}\label{diag:cofork}
            \begin{tikzcd}
                A \arrow[r, "f", shift left] \arrow[r, "g"', shift right] & B \arrow[r, "o"] & O
            \end{tikzcd}
        \end{equation}
    \end{minipage}\\
    \AP Since these are "dual@@CAT" notions, we will prefer to call \eqref{diag:cofork} a ""cofork"". \AP If \eqref{diag:fork} "commutes", we say that $o$ ""equalizes"" $f$ and $g$. \AP If \eqref{diag:cofork} "commutes", we say that $o$ ""coequalizes"" $f$ and $g$.
\end{defn}
\begin{defn}[Equalizer]
    Let $A, B \in \obj{\mathbf{C}}$ and $f,g:A\rightarrow B$ be "parallel" "morphisms". \AP The ""equalizer"" of $f$ and $g$ is an "object" $E$ and a "morphism" $e:E\rightarrow A$ satisfying $f\circ e = g \circ e$ with the following "universal property": for any "morphism" $o:O\rightarrow A$ "equalizing" $f$ and $g$, there is a unique $!: O \rightarrow E$ making \eqref{diag:equalizer} "commute".\footnote{Try to look for a common pattern in this definition and the definition of a "product" (both are instances of "limits").}
    \begin{equation}\label{diag:equalizer}
        \begin{tikzcd}
            O \arrow[rd, "o"] \arrow[d, "!"', dashed] &                                                           &   \\
            E \arrow[r, "e"']                         & A \arrow[r, "f", shift left] \arrow[r, "g"', shift right] & B
            \end{tikzcd}
    \end{equation}
    A common notation for $e$ is $\mathrm{Eq}(f,g)$. There is also a straightforward generalization of "equalizers" to more than two "morphisms".\footnote{If $\{f_i\}_{i\in I}$ is a family of "parallel" "morphisms", their "equalizer" is a "morphism" $e \in \mor{\mathbf{C}}$ such that \[\forall i\neq j, f_i \circ o = f_j \circ o,\] and every $o$ with this property "factors through" $e$ in a unique way.}
\end{defn}
\begin{exmp}[$\catSet$]
    Let $f,g:A\rightarrow B$ be two functions and suppose their "equalizer" exists and it is $e:E\rightarrow A$. By "associativity", for any $h:O\rightarrow E$, the composite $e\circ h$ is a candidate for $o$ in diagram \eqref{diag:equalizer} because $f\circ (e \circ h) = g \circ (e \circ h)$. What is more, if $h'$ is such that $e \circ h = e\circ h'$, then $h=h'$ or it would contradict the uniqueness of $!$. In other words, $e$ is "monic"/injective.\footnote{This argument was independent of the "category", hence we can conclude that an "equalizer" of "parallel" "morphisms" is always "monic".}

    This implies $E$ can be identified with its image under $e$. Since $f \circ e = g \circ e$, the image of $e$ is contained in the subset $\left\{ a \in A \mid f(a) = g(a)\right\}$. Now, by the "universal property" of the "equalizer", letting $O$ be this subset and $o$ be the inclusion, there is an injection\footnote{The fact that $!$ is an injection comes from the fact that the inclusion $o$ is an injection and $e\circ {!} = o$.} $!: \left\{ a \in A \mid f(a) = g(a)\right\} \hookrightarrow E$, thus both sets are equal. In conclusion, the "equalizer" of two "parallel" functions is the subset $E$ in which they are coincide and $e:E \hookrightarrow A$ is the inclusion.
\end{exmp}
\begin{exmps}
    \textbf{In a "posetal" "category"}: "hom-sets" are singletons, so it must be the case that $f = g$ whenever $f$ and $g$ are "parallel". Therefore, any $o:O \rightarrow A$ satisfies $f\circ o = g\circ o$. Written using the "order" notation, the "universal property" is then equivalent to the fact that $E\leq A$ and $O \leq A$ implies $O \leq E$. In particular, if $O= A$, then $A\leq E$, so $A = E$ by "antisymmetry".

    \textbf{In $\catAb$, $\catRing$ or $\catVect{k}$}: For the same reason that the Cartesian product of the underlying sets is the underlying set of the "product",\footnote{We explain this in Chapter \ref{chap:adjoints}.} the construction of "equalizers" is as in $\catSet$. However, since each of these "categories" have a notion of additive inverse for "morphisms", the "equalizer" of $f$ and $g$ has a cooler name, that is, $\ker(f-g)$.\footnote{The "equalizer" of $f$ and $g$ is the subset of $A$ where $f$ and $g$ are equal, or equivalently, where $f-g$ is $0$ (when $f-g$ and $0$ are defined).}
\end{exmps}
\begin{defn}[Idempotents]
    \AP A "morphism" $f: A \rightarrow A \in \mor{\mathbf{C}}$ is called ""idempotent"" when $f \circ f =f$, It is called ""split idempotent"" if there exist "morphisms" $s:E \rightarrow A$ and $r: A \rightarrow E$ such that $s \circ r = f$ and $r \circ s = 1_E$.\footnote{We can show that "split idempotents" are "idempotent" because \[f \circ f = s \circ r \circ s \circ r = s \circ \id_E \circ  r = f.\]}
\end{defn}
\begin{prop}
    An "idempotent" "morphism" $f: A \rightarrow A \in \mor{\mathbf{C}}$ is "split idempotent" if and only if the "equalizer" of $f$ and $\id_A$ exists.
\end{prop}
\begin{proof}
    ($\Rightarrow$) Let $f = s \circ r$ be such that $r \circ s = \id_E$, we claim that $s$ is the "equalizer". First, we can check that $s$ "equalizes" $f$ and $\id_A$ because $f \circ s = s \circ r \circ s = \id_E \circ s = s = s \circ \id_A$. Next, given $o:O \rightarrow A$ making \eqref{diag:equalizeidem} "commute", we need to find a "morphism" $!$ that fits in the diagram. Its uniqueness is given by $s$ being "monic" (it has a "left inverse"). Noticing that $o = f \circ o = s \circ r \circ o$, we find $! = r \circ o$.
    \begin{marginfigure}[-4\baselineskip]\centering \begin{equation}\label{diag:equalizeidem}
        % https://q.uiver.app/?q=WzAsNCxbMSwxLCJBIl0sWzIsMSwiQSJdLFswLDEsIkUiXSxbMCwwLCJPIl0sWzAsMSwiZiIsMix7Im9mZnNldCI6MX1dLFsyLDAsInMiLDJdLFszLDAsIm8iXSxbMywyLCIhIiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzAsMSwiXFxpZF9BIiwwLHsib2Zmc2V0IjotMX1dXQ==
        \begin{tikzcd}
            O \\
            E & A & A
            \arrow["f"', shift right=1, from=2-2, to=2-3]
            \arrow["s"', from=2-1, to=2-2]
            \arrow["o", from=1-1, to=2-2]
            \arrow["{!}"', dashed, from=1-1, to=2-1]
            \arrow["{\id_A}", shift left=1, from=2-2, to=2-3]
        \end{tikzcd}
    \end{equation}\end{marginfigure}
    ($\Leftarrow$) If $e:E \rightarrow A$ is the "coequalizer" of $f$ and $\id_A$, then since $f$ "equalizes" $f$ and $\id_A$, there exists $!:A \rightarrow E$ such that $e \circ {!} = f$. By "monicity" of $e$, we find that $e \circ ({!} \circ e) = f \circ e = e$ implies ${!} \circ e = \id_A$, so $f$ is a "split idempotent" (let $s := e$ and $r := {!}$).
\end{proof}

The "equalizer" of $f$ and $g$ is the "limit" of the "diagram" containing only the two "parallel" "morphisms", we define its "colimit" in the next section.
\subsection{Coequalizer}

\begin{defn}[Coequalizer]
    Let $A, B \in \obj{\mathbf{C}}$ and $f,g:A\rightarrow B$ be "parallel" "morphisms". \AP The ""coequalizer"" of $f$ and $g$ is an "object" $D$ and a "morphism" $d:B\rightarrow D$ satisfying $d\circ f = d \circ g$ with the following "universal property": for any "morphism" $o:B\rightarrow O$ "coequalizing" $f$ and $g$, there is a unique $!: D \rightarrow O$ making \eqref{diag:coequalizer} "commute".
    \begin{equation}\label{diag:coequalizer}
        \begin{tikzcd}
            A \arrow[r, "f", shift left] \arrow[r, "g"', shift right] & B \arrow[r, "d"] \arrow[rd, "o"'] & D \arrow[d, "!", dashed] \\& & O
        \end{tikzcd}
    \end{equation}
\end{defn}
\begin{exmp}[$\catSet$]
    Let $f,g:A\rightarrow B$ be two functions and suppose $d:B \rightarrow D$ is their "coequalizer". Similarly to the "dual@@CAT" case, one can show that $d$ is "epic"/surjective. Since $d\circ f = d \circ g$, for any $b, b' \in B$,
    \begin{equation}\label{eqn-relation}\tag{$*$}
        \left( \exists a \in A, f(a) = b\text{ and } g(a) = b' \right) \implies d(b) =d(b').
    \end{equation} Denoting $\sim$ to be the relation in the L.H.S. of \eqref{eqn-relation}, the implication is $b \sim b' \implies d(b) = d(b')$. Note that $\sim$ is not necessarily an "equivalence relation" but $=$ is, thus, the converse implication does not always hold.\footnote{For instance, when $b\sim b'\sim b''$, $d(b) = d(b'')$, but it might not be the case that $b\sim b''$.}

    Consequently, it makes sense to consider the "equivalence relation" generated by $\sim$,\footnote{In this case, it is simply the "transitive closure".} denoted $\simeq$. As noted above, the forward implication $b\simeq b' \implies d(b)= d(b')$ still holds. For the converse, in \eqref{diag:coequalizer}, let $O:= B/{\simeq}$ and $o: B \rightarrow B/{\simeq}$ be the "quotient map", by "post-composing" with $!$, we have \[d(b) = d(b') \implies o(b) = o(b') \implies b \simeq b'.\]
    In conclusion, $D= B/{\simeq}$ and $d:B \rightarrow D$ is the "quotient map".%TODO:here
\end{exmp}
\begin{exmps}
    \textbf{In a "posetal" "category":} an argument "dual@@CAT" to the one for "equalizers" shows the "coequalizer" of $f,g:A \rightarrow B$ is $B$.

    \textbf{In $\catAb$, $\catRing$ or $\catVect{k}$:} Let $f,g: A \rightarrow B$ be "homomorphisms@@RING" and suppose $d:B \rightarrow D$ is their "coequalizers". Consider the "homomorphism@@RING" $f-g$, since $d$ "coequalizes" $f$ and $g$, $d \circ (f-g) = d\circ f - d \circ g= 0$, or equivalently, $\im(f-g) \subseteq \ker(d)$. Now, consider diagram \eqref{diag:coeqinabelian} as an instance of \eqref{diag:coequalizer}, where $q$ is the quotient map.\footnote{It is "commutative" because $q\circ (f-g) = 0$ by definition of $q$.}
    \begin{equation}\label{diag:coeqinabelian}
        \begin{tikzcd}
            A \arrow[r, "f", shift left] \arrow[r, "g"', shift right] & B \arrow[r, "d"] \arrow[rd, "q"'] & D \arrow[d, "!", dashed] \\& & B/{\im(f-g)}
        \end{tikzcd}
    \end{equation}
    We claim that $!$ has an inverse, implying that $D \cong B/{\im(f-g)}$.\footnote{This is not enough to say that $B/{\im(f-g)}$ with the "quotient map" is the "coequalizer", we leave you the task to complete the proof using this "isomorphism" that crucially satisfies $! \circ d = q$.} Indeed, for $\eqclass{x} \in B/{\im(f-g)}$, we must have 
    \[!^{-1}(\eqclass{x}) = {!}^{-1}(q(x)) = {!}^{-1}(!(d(x)))= d(x),\]
    and it is only left to show $!^{-1}$ is well-defined because the inverse of a "homomorphism@@RING" is a "homomorphism@@RING". This follows because if $\eqclass{x} = \eqclass{x'}$, then there exists $y \in \im(f-g)$ such that $x = x' + y$, so \[!^{-1}(x) = d(x) = d(x'+y) = d(x') +d(y) = d(x') + 0 = {!}^{-1}(x').\]
    \AP In the special case that $g \equiv 0$, $B/{\im(f)}$ is called the ""cokernel"" of $f$, denoted $\coker(f)$.

    %TODO: change all this to group presentations.
    % \textbf{"Monoid" "presentations"}: Let $M$ be a "monoid", recall that a set $A \subseteq M$ ""generates"" $M$, denoted $M = \gen{A}$, if any element of $M$ is a finite product of elements of $A$. Namely, for any $m \in M$, there exists $a_1,\dots, a_n \in A$ such that $a_1 \cdots a_n = m$. If we consider the set of all finite products on $A$, call it $F(A)$, $M = \gen{A}$ yields a surjection $F(A) \rightarrow M$. However, the converse is not true because such a surjection does not necessarily behave well with the "monoid" operation.

    % However, there is a natural "monoid" operation on $F(A)$, that is concatenation: \[(a_1\cdots a_n) \cdot (a_1'\cdots a_m') = a_1\cdots a_na_1'\cdots a_m',\]
    % with the empty product as the identity.\footnote{Even if $1_M \in A$, the identity of $F(A)$ is still the empty product because $1_Ma \neq a$ as elements of $F(A)$.} Now, a surjective "homomorphism@@MON" $d: F(A) \twoheadrightarrow M$ does imply $M = \gen{A}$. Indeed, a product $a_1\cdots a_n$ in the preimage of $m$ has to equal $m$ inside $M$ or it would contradict the "homomorphism@@MON" property.

    % By the "first isomorphism theorem", $M$ is "isomorphic@@MON" to $F(A)/\ker(d)$. To realize $d$ as a "coequalizer", we will find a "morphism" $f$ such that $\coker(f)$ is $M \cong F(A)/\ker(d)$, namely, we need to find $f: X \rightarrow F(A)$ with $\im(f) = \ker(d)$.\footnote{In this category, $g$ is not $0$ but $1$ everywhere.} This is similar to what we were doing at the start of this example. Indeed, let $R \subseteq F(A)$ be a set of "generators" of $\ker(d)$, then there is a "homomorphism@MON" $f: F(R) \rightarrow F(A)$ satisfying $\im(f) = \ker(d)$. In fact, we can take the morphism $f$ that simply views products of products of $A$ as products of $A$ by concatenation. We have shown that \eqref{diag:forkpresentation} forms a "fork" and the argument used in $\catAb$ can be applied here to show this is a "coequalizer".
    % \begin{equation}\label{diag:forkpresentation}
    %     \begin{tikzcd}
    %         F(R) \arrow[r, "f", shift left] \arrow[r, "1"', shift right] & F(A) \arrow[r, two heads, "d"] & M\cong F(A)/\ker(d)
    %     \end{tikzcd}
    % \end{equation}
    % Thus, one can see $M$ as generated by $A$ subject to $R$ that identify some products of $A$ with the identity. Elements of $R$ are called ""relations"" and the pair $A$ and $R$ is a ""presentation"" of $M$, denoted $M = \langle A \mid R \rangle$. %TODO: examples of presentation.
\end{exmps}
\begin{exer}\label{exer:limits:idempcoeq}\marginnote{\hyperref[soln:limits:idempcoeq]{See solution.}}
    Show that an "idempotent" "morphism" $f: A \rightarrow A \in \mor{\mathbf{C}}$ is "split idempotent" if and only if the "coequalizer" of $f$ and $\id_A$ exists.
\end{exer}
%TODO: exercise in Rel
%TODO: heree&&&&&&&&&&&&&&&&
\subsection{Pullback}
\begin{defn}[Cospan]
    \AP A ""cospan"" in $\mathbf{C}$ comprises three "objects" $A,B,C$ and two "morphisms" $f$ and $g$ as in \eqref{diag:cospan}.\footnote{Just like "forks", "coforks" and "spans" that we introduce later, "cospan" is simply a name that we give to a certain shape of "diagram" that occurs quite often.}
    \begin{equation}\label{diag:cospan}
        \begin{tikzcd}
            A \arrow[r, "f"] & C & B \arrow[l, "g"']
        \end{tikzcd}
    \end{equation}
\end{defn}
\begin{defn}[Pullback]
    Let $\begin{tikzcd}[cramped, sep=small] A \arrow[r, "f"] & C & B \arrow[l, "g"'] \end{tikzcd}$ be a "cospan" in $\mathbf{C}$. \AP Its ""pullback"" is an "object", denoted $A \pullback{C} B$, along with "morphisms" $p_A:A\pullback{C} B \rightarrow A$ and $p_B:A\pullback{C} B \rightarrow B$ such that $f\circ p_A= g \circ p_B$ and the following "universal property" holds: for any "object" $X$ and "morphisms" $s: X \rightarrow A$ and $t: X \rightarrow B$ satisfying $f \circ s = g \circ t$, there is a unique "morphism" $!:X \rightarrow A\pullback{C} B$ making \eqref{diag:pullback} "commute".\footnote{\AP The $\intro*\pullbackd$ symbol is a standard convention to specify that a square is not only "commutative", but also a "pullback" square.}
    \begin{equation}\label{diag:pullback}
       % https://q.uiver.app/?q=WzAsNSxbMiwyLCJDIl0sWzEsMiwiQSJdLFsyLDEsIkIiXSxbMSwxLCJBXFxwdWxsYmFja3tDfSBCIl0sWzAsMCwiWCJdLFsxLDAsImYiLDJdLFsyLDAsImciXSxbMywxLCJwX0EiLDJdLFszLDIsInBfQiJdLFs0LDEsInMiLDIseyJjdXJ2ZSI6Mn1dLFs0LDIsInQiLDAseyJjdXJ2ZSI6LTJ9XSxbNCwzLCIhIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzMsMCwiIiwwLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
        \begin{tikzcd}
            X \\
            & {A\pullback{C} B} & B \\
            & A & C
            \arrow["f"', from=3-2, to=3-3]
            \arrow["g", from=2-3, to=3-3]
            \arrow["{p_A}"', from=2-2, to=3-2]
            \arrow["{p_B}", from=2-2, to=2-3]
            \arrow["s"', curve={height=12pt}, from=1-1, to=3-2]
            \arrow["t", curve={height=-12pt}, from=1-1, to=2-3]
            \arrow["{!}"{description}, dashed, from=1-1, to=2-2]
            \arrow["\pullbackd"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
        \end{tikzcd}
    \end{equation}
    \AP We will call $p_A$ the "pullback" of $g$ ""along@apull"" $f$ and sometimes denote it $\pull{f}{g}$. Symmetrically, $p_B$ is the "pullback" of $f$ "along@apull" $g$, denoted $\pull{g}{f}$.\marginnote{A drawback of the notation $A \pullback{C} B$ is that it does not refer to the "morphisms" $f$ and $g$ which are crucial in the definition. An alternative notation is $f \pullback{C} g$ (I learned about it \href{https://mattecapu.github.io/ct-zulip-archive/stream/229199-learning:-questions/topic/Morphism-based.20pullback.20notation.3F.html}{here}). An argument supporting this notation is in Exercise \ref{exer:universal:productslice}.}
\end{defn}
\begin{exmp}[$\catSet$]\label{exmp:pullbackinset}
    Let $\begin{tikzcd}[cramped, sep=small] A \arrow[r, "f"] & C & B \arrow[l, "g"'] \end{tikzcd}$ be a "cospan" in $\catSet$ and suppose that its "pullback" is $\begin{tikzcd}[cramped, sep=small] A & A \pullback{C} B \arrow[l, "p_A"'] \arrow[r, "p_B"]& B\end{tikzcd}$. Observe that $p_A$ and $p_B$ look like "projections", and in fact, by the "universality" of the "product" $A\product B$, there is a map $h: A\pullback{C} B \rightarrow A\product B$ such that $h(x) = (p_A(x), p_B(x))$ (\eqref{diag:setpullback} "commutes"). Consider the image of $h$, if $(a,b) \in \im(h)$, then there exists $x \in A \pullback{C} B$ such that $p_A(x) = a$ and $p_B(x) = b$. Moreover, the "commutativity" of the square in \eqref{diag:setpullback} implies $f(a) = g(b)$, hence \begin{marginfigure}
        % https://q.uiver.app/?q=WzAsNSxbMCwwLCJBXFxwdWxsYmFja3tDfSBCIl0sWzAsMiwiQSJdLFsyLDIsIkMiXSxbMiwwLCJCIl0sWzEsMSwiQVxcdGltZXMgQiJdLFswLDEsInBfQSIsMl0sWzEsMiwiZiIsMl0sWzAsMywicF9CIl0sWzMsMiwiZyJdLFswLDQsImgiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNCwxLCJcXHBpX0EiLDFdLFs0LDMsIlxccGlfQiIsMV1d
    \begin{equation}\label{diag:setpullback} 
        \begin{tikzcd}
        {A\pullback{C} B} && B \\
        & {A\times B} \\
        A && C
        \arrow["{p_A}"', from=1-1, to=3-1]
        \arrow["f"', from=3-1, to=3-3]
        \arrow["{p_B}", from=1-1, to=1-3]
        \arrow["g", from=1-3, to=3-3]
        \arrow["h", dashed, from=1-1, to=2-2]
        \arrow["{\projection_A}"{description}, from=2-2, to=3-1]
        \arrow["{\projection_B}"{description}, from=2-2, to=1-3]
        \end{tikzcd}
    \end{equation}
    \end{marginfigure} \[\im(h) \subseteq \{(a,b) \in A\product B \mid f(a) = g(b)\} =: E.\]
    Now, letting $X= E$, $s = \projection_A$ and $t = \projection_B$, by definition, $f \circ s = g \circ t$ hence, there is a unique $!: E \rightarrow A\pullback{C} B$ satisfying $p_A \circ {!} = \projection_A$ and $p_B \circ {!} = \projection_B$. Viewing $h$ as going in the opposite direction to $!$,\footnote{We just saw that the image of $h$ is contained in $E$, so we can see $h$ as a function $h: A \pullback{C} B \rightarrow E$.} it is easy to see that for any $(a,b) \in E$,\footnote{We use the fact that $\projection_A \circ h \circ {!} = p_A \circ {!}$ and similarly for $B$.} \[(h\circ {!})(a,b) = (p_A(!(a,b)), p_B(a,b)) = (\projection_A(a,b), \projection_B(a,b)) = (a,b),\] thus $!$ has a "left inverse" and is injective. Assume towards a contradiction that it is not surjective, then let $y \in A\pullback{C} B$ not be in the image of $!$ and denote $x = {!}(p_A(y), p_B(y))$. Define $!'$ as acting exactly like $!$ except on $(p_A(y),p_B(y))$ where it goes to $y$ instead of $x$. This ensure that $!'$ still makes the diagram "commutes", but this contradicts the uniqueness of $!$.

    As a particular case, when one function in the "cospan" is an inclusion, say, $B \subseteq C$ and $g: B \hookrightarrow C$, the "pullback" is the "preimage" of $B$ under $f$ since \[\left\{  (a,b) \in A \product B\mid f(a) = g(b) = b\right\} \isoCAT \left\{ a \mid f(a) \in B \right\} = f^{-1}(B).\]
    You can also check that $p_A$ is the inclusion $f^{-1}(B) \hookrightarrow A$ and $p_B$ is $f$ restricted to $f^{-1}(B)$. As a particular case of that, if the "cospan" consists of two inclusions $A \hookrightarrow C \hookleftarrow B$, then its "pullback" is the intersection $A \cap B$ with $p_A$ and $p_B$ being the inclusions.\begin{marginfigure}[-1\baselineskip]\begin{equation*}
        % https://q.uiver.app/?q=WzAsNCxbMCwwLCJBXFxjYXAgQiJdLFswLDEsIkEiXSxbMSwxLCJDIl0sWzEsMCwiQiJdLFsxLDIsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoiYm90dG9tIn19fV0sWzMsMiwiIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMCwxLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dLFswLDMsIiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzAsMiwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
        \begin{tikzcd}
            {A\cap B} & B \\
            A & C
            \arrow[hook', from=2-1, to=2-2]
            \arrow[hook, from=1-2, to=2-2]
            \arrow[hook', from=1-1, to=2-1]
            \arrow[hook, from=1-1, to=1-2]
            \arrow["\pullbackd"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
        \end{tikzcd}
    \end{equation*}\end{marginfigure}
\end{exmp}
\begin{exmps}
    \textbf{In a "posetal" "category"}, the "commutativity" of the square in \eqref{diag:pullback} does not depend on the "morphisms", thus the "universal property" is equivalent to the property of being a "product".

    \textbf{The "composition" of relations} $R$ and $S$ can be defined using "pullbacks" in $\catSet$. Given relations $R \subseteq X\product Y$ and $S \subseteq Y \product Z$, we can apply the "projections" to subsets to obtain \eqref{diag:relationsasspans}. Then, taking the "pullback" of the "cospan" in the middle and using the characterization of the "pullback" in $\catSet$ from Example \ref{exmp:pullbackinset}, we obtain \begin{marginfigure}\begin{equation}\label{diag:relationsasspans}
        % https://q.uiver.app/?q=WzAsNSxbMSwwLCJSIl0sWzAsMSwiWCJdLFsyLDEsIlkiXSxbMywwLCJTIl0sWzQsMSwiWiJdLFswLDEsIlxccGlfWCIsMl0sWzAsMiwiXFxwaV9ZIl0sWzMsMiwiXFxwaV9ZIiwyXSxbMyw0LCJcXHBpX1oiXV0=
        \begin{tikzcd}
            & R && S \\
            X && Y && Z
            \arrow["{\projection_X}"', from=1-2, to=2-1]
            \arrow["{\projection_Y}", from=1-2, to=2-3]
            \arrow["{\projection_Y}"', from=1-4, to=2-3]
            \arrow["{\projection_Z}", from=1-4, to=2-5]
        \end{tikzcd}
    \end{equation}\end{marginfigure}
    \[R\pullback{Y} S = \left\{ ((x,y), (y',z)) \in R \product S\mid y = y' \right\}.\]
    Observe in \eqref{diag:pullbackrelations} that we have functions from $R\pullback{Y}S$ to $X$ and $Z$: $\projection_X \circ p_R$ and $\projection_Z \circ p_S$. Thus, by the "universal property" of the "product" $X\product Z$, there is a function $!: R\pullback{Y} S \rightarrow X\product Z$. After a bit of computations, recalling that $p_R((x,y),(y',z)) = (x,y)$ and $p_S((x,y),(y',z)) = (y',z)$, we find that the image of $!$ is precisely the composite relation\footnote{Our argument here heavily relies on working with sets and functions, but there is a way to generalize relations in other nice enough "categories" using this idea.} %TODO: ref carboni et walters cartesian bicategories.
    \[S \circ R= \{(x,z) \mid \exists y, (x,y)\in R, (y,z) \in S\}.\]
    \begin{equation}\label{diag:pullbackrelations}
        % https://q.uiver.app/?q=WzAsNixbMSwxLCJSIl0sWzAsMiwiWCJdLFsyLDIsIlkiXSxbMywxLCJTIl0sWzQsMiwiWiJdLFsyLDAsIlJcXHB1bGxiYWNre1l9UyJdLFswLDEsIlxccGlfWCIsMl0sWzAsMiwiXFxwaV9ZIiwxXSxbMywyLCJcXHBpX1kiLDFdLFszLDQsIlxccGlfWiJdLFs1LDAsInBfUiIsMl0sWzUsMywicF9TIl0sWzUsMiwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
        \begin{tikzcd}
            && {R\pullback{Y}S} \\
            & R && S \\
            X && Y && Z
            \arrow["{\pi_X}"', from=2-2, to=3-1]
            \arrow["{\pi_Y}"{description}, from=2-2, to=3-3]
            \arrow["{\pi_Y}"{description}, from=2-4, to=3-3]
            \arrow["{\pi_Z}", from=2-4, to=3-5]
            \arrow["{p_R}"', from=1-3, to=2-2]
            \arrow["{p_S}", from=1-3, to=2-4]
            \arrow["\pullbackd"{anchor=center, pos=0.125, rotate=-45}, draw=none, from=1-3, to=3-3]
        \end{tikzcd}
    \end{equation}
\end{exmps}
\begin{exer}\label{exer:limits:pullbackmono}\marginnote{\hyperref[soln:limits:pullbackmono]{See solution.}}
    Let $f: X \rightarrow Y$ be a "morphism" in $\mathbf{C}$. Show $f$ is "monic" if and only if the square in \eqref{diag:pullbackmono} is a "pullback".\footnote{This result and its "dual" will sometimes be used to treat "monomorphisms" (resp. "epimorphisms") as "limits" (resp. "colimits"). In most of these cases, it will be crucial that this "limit" (resp. "colimit") only involves the "monomorphism" (resp. "epimorphism") and the "identity morphism" which is "preserved" by any "functor".}%TODO: talk about this later when defining preserve et al.
    \begin{equation}\label{diag:pullbackmono}
        % https://q.uiver.app/?q=WzAsNCxbMCwwLCJYIl0sWzAsMSwiWCJdLFsxLDEsIlkiXSxbMSwwLCJYIl0sWzAsMSwiXFxpZF9YIiwyXSxbMSwyLCJmIiwyXSxbMCwzLCJcXGlkX1giXSxbMywyLCJmIl0sWzAsMiwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
        \begin{tikzcd} %TODO: use same pullback notation everywhere
            X & X \\
            X & Y
            \arrow["{\id_X}"', from=1-1, to=2-1]
            \arrow["f"', from=2-1, to=2-2]
            \arrow["{\id_X}", from=1-1, to=1-2]
            \arrow["f", from=1-2, to=2-2]
            \arrow["\pullbackd"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
        \end{tikzcd}
    \end{equation}
\end{exer}
\begin{exer}\label{exer:limits:pullbackisos}\marginnote{\hyperref[soln:limits:pullbackisos]{See solution.}}
    Supposing \eqref{diag:pullbackisoleft} "commutes", show that if the right square is a "pullback" and $i$ and $j$ are "isomosphisms@@CAT", then the rectangle is a "pullback".
    \begin{equation}\label{diag:pullbackisoleft}
        % https://q.uiver.app/?q=WzAsNixbMiwxLCJDIl0sWzEsMSwiQSJdLFsyLDAsIkIiXSxbMSwwLCJBXFxwdWxsYmFja3tDfSBCIl0sWzAsMCwiWCJdLFswLDEsIlkiXSxbMSwwLCJmIiwyXSxbMiwwLCJnIl0sWzMsMSwicF9BIiwyXSxbMywyLCJwX0IiXSxbMywwLCIiLDAseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XSxbMyw0LCJpIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiYXJyb3doZWFkIn19fV0sWzEsNSwiaiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6ImFycm93aGVhZCJ9fX1dLFs0LDVdXQ==
        \begin{tikzcd}
            X & {A\pullback{C} B} & B \\
            Y & A & C
            \arrow["f"', from=2-2, to=2-3]
            \arrow["g", from=1-3, to=2-3]
            \arrow["{p_A}"', from=1-2, to=2-2]
            \arrow["{p_B}", from=1-2, to=1-3]
            \arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-2, to=2-3]
            \arrow["i"', tail reversed, from=1-2, to=1-1]
            \arrow["j", tail reversed, from=2-2, to=2-1]
            \arrow[from=1-1, to=2-1]
        \end{tikzcd}
    \end{equation}
    Supposing \eqref{diag:pullbackisoright} "commutes", show that if the left square is a "pullback" and $i$ and $j$ are "isomorphisms@@CAT", then the rectangle is a "pullback".
    \begin{equation}\label{diag:pullbackisoright}
        % https://q.uiver.app/?q=WzAsNixbMSwxLCJDIl0sWzAsMSwiQSJdLFsxLDAsIkIiXSxbMCwwLCJBXFxwdWxsYmFja3tDfSBCIl0sWzIsMCwiWCJdLFsyLDEsIlkiXSxbMSwwLCJmIiwyXSxbMiwwLCJnIl0sWzMsMSwicF9BIiwyXSxbMywyLCJwX0IiXSxbMywwLCIiLDAseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XSxbNCw1XSxbMiw0LCJpIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiYXJyb3doZWFkIn19fV0sWzAsNSwiaiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6ImFycm93aGVhZCJ9fX1dXQ==
        \begin{tikzcd}
            {A\pullback{C} B} & B & X \\
            A & C & Y
            \arrow["f"', from=2-1, to=2-2]
            \arrow["g", from=1-2, to=2-2]
            \arrow["{p_A}"', from=1-1, to=2-1]
            \arrow["{p_B}", from=1-1, to=1-2]
            \arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
            \arrow[from=1-3, to=2-3]
            \arrow["i", tail reversed, from=1-2, to=1-3]
            \arrow["j"', tail reversed, from=2-2, to=2-3]
        \end{tikzcd}
    \end{equation}
\end{exer}
\subsection{Pushout}
\begin{defn}[Span]
    \AP A ""span"" in $\mathbf{C}$ comprises three "objects" $A,B,C$ and two "morphisms" $f$ and $g$ as in \eqref{diag:span}.
    \begin{equation}\label{diag:span}
        \begin{tikzcd}
            A & C \arrow[l, "f"'] \arrow[r, "g"]& B 
        \end{tikzcd}
    \end{equation}
\end{defn}
\begin{defn}[Pushout]
    Let $\begin{tikzcd}[cramped, sep=small]A & C \arrow[l, "f"'] \arrow[r, "g"]& B \end{tikzcd}$ be a "span" in $\mathbf{C}$. \AP Its ""pushout"" is an "object", denoted $A \pushout{C} B$, along with "morphisms" $k_A:A \rightarrow A\pushout{C} B$ and $k_B:B \rightarrow A\pushout{C} B$ such that $k_A \circ f= k_B \circ g$ and the following "universal property" holds: for any "object" $X$ and "morphisms" $s: A \rightarrow X$ and $t: B \rightarrow X$ satisfying $s \circ f = t \circ g$, there is a unique "morphism" $!:A\pushout{C} B \rightarrow X$ making \eqref{diag:pushout} "commute".\footnote{\AP The \intro[pushoutd]{\LARGE$\ulcorner$} symbol is a standard convention to specify that the square is not only "commutative", but also a "pushout" square.}
    \begin{equation}\label{diag:pushout}
        % https://q.uiver.app/?q=WzAsNSxbMCwwLCJDIl0sWzAsMSwiQSJdLFsxLDAsIkIiXSxbMSwxLCJBXFxwdXNob3V0e0N9IEIiXSxbMiwyLCJYIl0sWzAsMSwiZiIsMl0sWzAsMiwiZyJdLFsxLDMsImtfQSIsMl0sWzIsMywia19CIl0sWzEsNCwicyIsMix7ImN1cnZlIjoyfV0sWzIsNCwidCIsMCx7ImN1cnZlIjotMn1dLFszLDQsIiEiLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMywwLCIiLDAseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XV0=
        \begin{tikzcd}
            C & B \\
            A & {A\pushout{C} B} \\
            && X
            \arrow["f"', from=1-1, to=2-1]
            \arrow["g", from=1-1, to=1-2]
            \arrow["{k_A}"', from=2-1, to=2-2]
            \arrow["{k_B}", from=1-2, to=2-2]
            \arrow["s"', curve={height=12pt}, from=2-1, to=3-3]
            \arrow["t", curve={height=-12pt}, from=1-2, to=3-3]
            \arrow["{!}"{description}, dashed, from=2-2, to=3-3]
            \arrow["\pushoutd"{anchor=center, pos=0.125, rotate=180}, draw=none, from=2-2, to=1-1]
        \end{tikzcd}
    \end{equation}
    \AP We will call $k_A$ the "pushout" of $g$ ""along@apush"" $f$ and sometimes denote it $\push{f}{g}$. Symmetrically, $k_B$ is the "pushout" of $f$ "along@apush" $g$, denoted $\push{g}{f}$.
\end{defn}
\begin{exmp}[$\catSet$]%TODO: better explain this example.
    Let $\begin{tikzcd}[cramped, sep=small]A & C \arrow[l, "f"'] \arrow[r, "g"]& B \end{tikzcd}$ be a "span" in $\catSet$ and suppose its "pushout" is $\begin{tikzcd}[cramped, sep=small] A \arrow[r, "k_A"] & A\pushout{C} B & B \arrow[l, "k_B"'] \end{tikzcd}$. Similarly to above, observe that $k_A$ and $k_B$ are like "coprojections", so there is a unique map $!: A+ B \rightarrow A\pushout{C} B$ such that $!(a) = k_A(a)$ and $!(b) = k_B(b)$. Furthermore, for any $c \in C$, $!(f(c)) = {!}(g(c))$, thus 
    \[\exists c \in C, f(c)=a \text{ and } g(c) = b \implies !(a) = {!}(b).\]
    This is very similar to what happened for "coequalizers" and after working everything out, we obtain that $!:A+B \rightarrow A \pushout{C} B$ is the "coequalizer" of $\coprojection_A \circ f$ and $\coprojection_B \circ g$. This is a general fact that does not only apply in $\catSet$ but in every category with binary "coproducts" and "coequalizers".

    As a particular case, if $C = A\cap B$ and $f$ and $g$ are simply inclusions, then $A \pushout{C} B = A\cup B$ (the \textit{non-disjoint} union).
\end{exmp}
\begin{exer}\label{exer:limits:pushoutcoeq}\marginnote{\hyperref[soln:limits:pushoutcoeq]{See solution.}}
    Show that if \eqref{diag:pushoutcoeq} is a "pushout" square, then $d$ is the "coequalizer" of $f$ and $g$.
    \begin{equation}\label{diag:pushoutcoeq}
        % https://q.uiver.app/?q=WzAsNCxbMCwwLCJBIl0sWzAsMSwiQiJdLFsxLDAsIkIiXSxbMSwxLCJEIl0sWzAsMSwiZiIsMl0sWzAsMiwiZyJdLFsyLDMsImQiXSxbMSwzLCJkIiwyXSxbMywwLCIiLDEseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XV0=
        \begin{tikzcd}
            A & B \\
            B & D
            \arrow["f"', from=1-1, to=2-1]
            \arrow["g", from=1-1, to=1-2]
            \arrow["d", from=1-2, to=2-2]
            \arrow["d"', from=2-1, to=2-2]
            \arrow["\pushoutd"{anchor=center, pos=0.125, rotate=180}, draw=none, from=2-2, to=1-1]
        \end{tikzcd}
    \end{equation}
\end{exer}
%TODO: example about pushout rewriting
\begin{exmp}[Rewriting]
    The categorical approach to graph rewriting is full of uses of pushouts. In this example, we will try to give a flavor of a particular method called \href{https://en.wikipedia.org/wiki/Double_pushout_graph_rewriting}{double-pushout rewriting (DPO)} in an almost trivial setting using words instead of graphs. $\square$. %TODO: find something that actually works.
\end{exmp}
\section{Generalization}
There exists many other examples of "(co)@colimit""limits" but these six examples give quite a good idea of what it is to be a "limit" or "colimit". More precisely, we will see in Theorem \ref{thm:prodeqcomplete} and Exercise \ref{exer:limits:termpullcomplete} that any "limit" can be built out of "products" and "equalizers" or "pullbacks" and a "terminal" "object". "Dually@@CAT", we can build "colimits" out of "coproducts" and "coequalizers" or "pushouts" and an "initial" "object".

Let us try to informally spell out the general pattern in the definitions of each example.
\begin{itemize}%TODO: drawings
    \item We start with a "shape" for a "diagram" $D$ (i.e.: a "discrete" "diagram", two "parallel" "morphisms", a "span", a "cospan", etc.).
    \item The "limit" (resp. "colimit") of $D$ is an "object" $L$ along with "morphisms" from $L$ to every "object" in the "diagram" (resp. in the opposite direction) such that combining $D$ with these "morphisms" yields a "commutative diagram".
    \item These "morphisms" satisfy a "universal property". More specifically, for any "object" $L'$ with "morphisms" from $L'$ to every "object" in the "diagram" (resp. in the opposite direction) that "commute" with $D$, there is a unique $!:L'\rightarrow L$ (resp. $L \rightarrow L'$) such that combining all the "morphisms" with $D$ yields a "commutative diagram".
\end{itemize}
We have already formalized the first step when we defined "diagrams". For the second and third step, notice that the "morphisms" given for $L$ and $L'$ have the same conditions, they form a "cone" (resp. "cocone").
\subsection{Definitions}
We start by formalizing "limits".
\begin{defn}[Cone] %TODO: draw cones in the margin
    Let $F: \mathbf{J}\rightsquigarrow \mathbf{C}$ be a "diagram". \AP A "cone" from $X$ to $F$ is an "object" $X \in \obj{\mathbf{C}}$, called the ""tip"", along with a family of "morphisms" $\left\{ \psi_Y: X \rightarrow F(Y)\right\}$ indexed by "objects" $Y \in \obj{\mathbf{J}}$ such that for any "morphism" $f:Y \rightarrow Z$ in $\mor{\mathbf{J}}$, $F(f) \circ \psi_Y = \psi_Z$, i.e.: diagram \eqref{diag:cone} "commutes".
    \begin{equation}\label{diag:cone}
        \begin{tikzcd}
            & X \arrow[ld, "\psi_Y"'] \arrow[rd, "\psi_Z"] &\\
            F(Y)\arrow[rr, "F(f)"'] & & F(Z)
        \end{tikzcd}
    \end{equation}
    Often, the terminology "cone over@cone" $F$ is used.
\end{defn}
Next, the fact that the "morphism" $!$ keeps everything "commutative" can be generalized. We say that $!$ is a "morphism" of "cones".
\begin{defn}[Morphism of cones]
    Let $F:\mathbf{J}\rightsquigarrow \mathbf{C}$ be a "diagram" and $\{\psi_Y: A \rightarrow F(Y)\}_{Y \in \obj{\mathbf{J}}}$ and $\{\phi_Y: B\rightarrow F(Y)\}_{Y \in \obj{\mathbf{J}}}$ be two "cones" over $F$. A \textbf{"morphism" of "cones"} from $A$ to $B$ is a "morphism" $g:A\rightarrow B$ in $\mor{\mathbf{C}}$ such that for any $Y\in \obj{\mathbf{J}}$, $\phi_Y \circ g = \psi_Y$, i.e.: \eqref{diag:morphcone} "commutes".
    \begin{equation}\label{diag:morphcone}
        \begin{tikzcd}
            A \arrow[rr, "g"] \arrow[rd, "\psi_Y"'] &  & B \arrow[ld, "\phi_Y"] \\
             & F(Y) & 
        \end{tikzcd}
    \end{equation}
\end{defn}
\AP After verifying that "morphisms" can be composed, the last two definitions give rise to the "category" of "cones" over a "diagram" $F$ which we denote $\intro*\cone(F)$. Finally, the "universal property" can be stated in terms of "cones", thus giving the general definition of a "limit". \AP Indeed, the "limit" of a "diagram" $D$ is a "cone" $L$ over $D$ such that for every "cone" $L'$ over $D$, there is a unique "cone" "morphism" $!:L'\rightarrow L$ called the ""mediating morphism"". Equivalently, $L$ is the "terminal" "object" of $\cone(F)$.
\begin{defn}[Limit]
    \AP Let $F:\mathbf{J} \rightsquigarrow \mathbf{C}$ be a "diagram", the ""limit"" of $F$, if it exists, is the "terminal" "object" of $\cone(F)$. It is denoted $\lim_{\mathbf{J}} F$ or $\lim F$.
\end{defn}
\begin{rem}
    \AP Often, $\lim F$ also designates the "tip" of the "cone" as an "object" in $\mathbf{C}$ rather than the whole "cone".\footnote{This can sometimes be a source of confusion because many authors implicitly omit parts of the proof involving the rest of the "cone" and the reader is expected to reconstruct the missing parts.} We may also refer to the whole "cone" as the ""limit cone"".
\end{rem}
\begin{exmps}\label{exmps:limits}
    While you can play around with the three examples of "limits" we have already given and make them fit in this general definition, we add to this list three examples in increasing order of complexity.
    \begin{enumerate}
        \item\label{exmp:limitempty} Consider an empty "diagram" in $\mathbf{C}$, that is, the "functor" $\emptyset$ from the empty "category" to $\mathbf{C}$. A "cone" from $X$ to $\emptyset$ is just an "object" $X \in \obj{\mathbf{C}}$ as there are no "objects" in the "diagram". Consequently, a "morphism" in $\cone(\emptyset)$ is simply a "morphism" in $\mathbf{C}$, so $\cone(\emptyset)$ is the same as the original "category" $\mathbf{C}$ and $\lim \emptyset$ is the "terminal" "object" of $\mathbf{C}$ if it exists.\footnote{Alternatively, we can say that the "terminal" "object" is the "product" of an empty family.}
        \item\label{exmp:limitaction} Given a "group" $G$, recall from Example \ref{exmp:functors}.\ref{exmp:functorgrpaction} that a $G$"--set" can be seen as a "diagram" in $\catSet$, i.e.: a "functor" $\deloop{G} \rightsquigarrow \catSet$. We claim that the "limit" of this "diagram" is the set $\mathsf{Fix}(S)$ of fixed points of the "action@@GRP" (an element $s$ of a $G$"--set" is a \textbf{fixed point} if $g \cdot s = s$).\footnote{Recall that the "limit" of two "parallel" "morphisms" was called an "equalizer". In this example, we are taking the "limit" of several "parallel" "morphisms". Thus, one can also see the "limit" of $F$ as the generalized "equalizer" of all the "morphisms" $g \cdot \placeholder$ with $g \in G$.} Let $F: \deloop{G} \rightsquigarrow \catSet$ be a $G$"--set" with $F(\deloopobject) = S$, a "cone" from $F$ is a set $P$ along with a function $p: P\rightarrow S$ such that for any $g \in G$, \eqref{diag:coneoveraction} "commutes".
        \begin{equation}\label{diag:coneoveraction}
            % https://q.uiver.app/?q=WzAsMyxbMSwwLCJQIl0sWzAsMSwiUyJdLFsyLDEsIlMiXSxbMCwxLCJwIiwyXSxbMCwyLCJwIl0sWzEsMiwiRihnKSA9IGdcXGNkb3QgXFxwbGFjZWhvbGRlciIsMl1d
            \begin{tikzcd}
                & P \\
                S && S
                \arrow["p"', from=1-2, to=2-1]
                \arrow["p", from=1-2, to=2-3]
                \arrow["{F(g) = g\cdot \placeholder}"', from=2-1, to=2-3]
            \end{tikzcd}
        \end{equation}
        We infer from this "diagram" that the image of $p$ is contained in the set of fixed points.\footnote{For any $x \in P$, we have $g\cdot p(x) = p(x)$.} Therefore, $p$ factors uniquely through the inclusion $\mathsf{Fix}(S) \hookrightarrow S$. We conclude that the "coned" formed by $\mathsf{Fix}(S) \hookrightarrow S$ is the "limit cone".
        \item Let $x$ denote an indeterminate variable and $k$ be a "field", $k[x]$ denotes the "ring" of polynomials over $x$.\footnote{In Chapter \ref{chap:yoneda}, we will describe a nice categorical definition of $k[x]$, but, for now, let us assume you know what polynomials are and how they can be added and multiplied together. You can skip this example if you are not familiar with "rings".} We will show that $k\llbracket x\rrbracket$, the "ring" of \href{https://en.wikipedia.org/wiki/Formal_power_series#Ring_structure}{\textbf{formal power series}} over $x$, can be defined as a "limit". %TODO: define k[x] somewhere. say that we assume you know what k[[x]] is. Maybe define them in the preliminaries.
        
        Let $I = \langle x \rangle$ be the "ideal" "generated@@RING" by $x$, it contains all the polynomials with no constant terms, and denote $I^n = \langle x^n\rangle$. In the sequel, we view elements of $k[x]/I^n$ as polynomials with degree at most $n-1$.\footnote{More accurately, $k[x]/I^n$ contains equivalence classes of polynomials, but their representatives are exactly the polynomials of degree at most $n-1$. Since $I^0 = k[x]$, the "quotien@@RING" $k[x]/I^0$ is the trivial ring, i.e.: the "zero object" in $\catRing$.} The following three key properties are satisfied (we leave the proof to the interested readers).
        \begin{enumerate}[a)]
            \item For any $n \leq m \in \N$ and $p \in k[x]/I^m$, forgetting about all terms in $p$ of degree at least $n$ yields a "ring homomorphism" $\pi_{m,n}: k[x]/I^m \rightarrow k[x]/I^n$.\footnote{Note that $\pi_{m,m}$ is the identity.}
            \item For any $n \in \N$, we can do the same thing for power series to obtain a "homomorphism@@RING" $\pi_{\infty,n}: k\llbracket x \rrbracket \rightarrow k[x]/I^n$.
            \item Any composition of the "homomorphisms@@RING" above can be seen as a single "homomorphism@RING" above. Namely, $\forall n \leq m \leq l \in \N \cup \infty$, \[\pi_{m,n} \circ \pi_{l,m} = \pi_{l,n}.\]
        \end{enumerate}
        Consider the "posetal" "category" $(\N, \geq)$, a) and c) imply that $F(n) := k[x]/I^n$ and $F(m\geq n) := \pi_{m,n}$ defines a "functor" $F: (\N, \geq) \rightarrow \catRing$. This is the "diagram" represented in \eqref{diag:formalseriessystem}.
        \begin{equation}\label{diag:formalseriessystem}
            \begin{tikzcd}
                \cdots \arrow[r] & {k[x]/I^n} \arrow[r, "{\pi_{n,n-1}}"] & \cdots \arrow[r] & {k[x]/I^2} \arrow[r, "{\pi_{2,1}}"] & {k[x]/I} \arrow[r, "{\pi_{1,0}}"] & {k[x]/I^0 = \zero}
            \end{tikzcd}
        \end{equation}
        Now, using b) and c), we see that $k\llbracket x \rrbracket$ along with $\{\pi_{\infty,n}\}_{n\in \N}$ is a "cone" over the "diagram" $F$. It is in fact the "terminal" "cone". Let $\{p_n: R \rightarrow k[x]/I^n\}_{n\in\N}$ be another "cone" over $F$ and $!:R \rightarrow k\llbracket x \rrbracket$ a "morphism" of "cones". By "commutativity", for any $m\leq n$, the coefficients for $x^m$ of $!(r)$ and $p_n(r)$ must agree. Now, by "commutativity" of the "cone" $\{p_n\}_{n\in\N}$, $p_n(r)$ and $p_{n-1}(r)$ have the same coefficients except for $x^n$, thus we can compactly define $!$ by
        \[!(r) := p_0(r) + \sum_{n > 0} (p_n(r) - p_{n-1}(r)).\]
        This completely determines $!$, so it is unique.\footnote{Existence follows from the same equation.}

        The construction of this "diagram" from quotienting different powers of the same "ideal" is used in different contexts, it is called the \href{https://en.wikipedia.org/wiki/Completion_of_a_ring}{\textbf{ring completion}} of $k[x]$ with respect to $I$. For instance, one can define the $p$--adic integers with base ring $\Z$ and the "ideal" "generated@@RING" by $p$ for any prime $p$.
    \end{enumerate}
\end{exmps}

\subsection{Codefinitions}
Put simply, a "colimit" in $\mathbf{C}$ is a "limit" in $\op{\mathbf{C}}$. I suggest you spend a bit of time trying to "dualize@@CAT" all of the previous section on your own, but it is done below for completeness.  
\begin{defn}[Cocone]
    Let $F: \mathbf{J}\rightsquigarrow \mathbf{C}$ be a diagram. \AP A ""cocone"" from $F$ to $X$ is an "object" $X \in \obj{\mathbf{C}}$ along with a family of "morphisms" $\left\{ \psi_Y: F(Y) \rightarrow X \right\}$ indexed by "objects" of $Y \in \obj{\mathbf{J}}$ such that for any "morphism" $f:Y \rightarrow Z$ in $\mathbf{J}$, $\psi_Z \circ F(f) = \psi_Y$, i.e.: \eqref{diag:cocone} "commutes".
    \begin{equation}\label{diag:cocone}
        \begin{tikzcd}
            F(Y) \arrow[rd, "\psi_Y"'] \arrow[rr, "F(f)"] & & F(Z) \arrow[ld, "\psi_Z"]\\
            & X & 
        \end{tikzcd}
    \end{equation}
\end{defn}
\begin{defn}[Morphism of cocones]
    Let $F:\mathbf{J}\rightsquigarrow \mathbf{C}$ be a "diagram" and $\{\psi_Y: F(Y)\rightarrow A \}_{Y \in \obj{\mathbf{J}}}$ and $\{\phi_Y: F(Y)\rightarrow B\}_{Y \in \obj{\mathbf{J}}}$ be two "cocones". A \textbf{"morphism" of "cocones"} from $A$ to $B$ is a "morphism" $g:A\rightarrow B$ in $\mathbf{C}$ such that for any $Y\in \obj{\mathbf{J}}$, $g \circ \psi_Y = \phi_Y$, i.e.: \eqref{diag:morphcocone} "commutes".
    \begin{equation}\label{diag:morphcocone}
        \begin{tikzcd}
            & F(Y) \arrow[ld, "\psi_Y"'] \arrow[rd, "\phi_Y"] & \\
            A \arrow[rr, "g"] &  & B  \\
        \end{tikzcd}
    \end{equation}
\end{defn}
\AP The "category" of "cocones" from $F$\footnote{Some authors call them \textbf{cones under} $F$.} is denoted $\intro*\cocone(F)$.
\begin{defn}[Colimit]
    \AP Let $F:\mathbf{J} \rightsquigarrow \mathbf{C}$ be a "diagram", the "colimit" of $F$ denoted $\colim F$, if it exists, is the "initial" "object" of $\cocone(F)$.
\end{defn}
\begin{exmps}
    We "dualize@@CAT" two examples from the previous section.
    \begin{enumerate}
        \item "Dually@@CAT" to Example \ref{exmps:limits}.\ref{exmp:limitempty}, $\colim \emptyset$ is the is the "initial" "object" of $\mathbf{C}$ if it exists.\footnote{Alternatively, the "initial" "object" is the "coproduct" of an empty family.}
        \item "Dually@@CAT" to Example \ref{exmps:limits}.\ref{exmp:limitaction}, we claim that the "colimit" of the "diagram" corresponding to a "group action" is the set of its "orbits". Let $F: \deloop{G} \rightsquigarrow \catSet$ be a $G$"--set" with $F(\deloopobject) = S$, a "cocone" from $F$ is a set $Q$ along with a function $q: S\rightarrow Q$ such that for any $g \in G$, \eqref{diag:coconeunderaction} "commutes".\marginnote{One can also see the "colimit" of $F$ as the (generalized) "coequalizer" of all the "morphisms" $g \cdot \placeholder$ with $g \in G$.}
        \begin{equation}\label{diag:coconeunderaction}
            % https://q.uiver.app/?q=WzAsMyxbMCwwLCJTIl0sWzEsMSwiUSJdLFsyLDAsIlMiXSxbMCwxLCJxIiwyXSxbMiwxLCJxIl0sWzAsMiwiZ1xcY2RvdFxccGxhY2Vob2xkZXIiXV0=
        \begin{tikzcd}
            S && S \\
            & Q
            \arrow["q"', from=1-1, to=2-2]
            \arrow["q", from=1-3, to=2-2]
            \arrow["F(g) = g\cdot\placeholder", from=1-1, to=1-3]
        \end{tikzcd}
        \end{equation}
        We infer that if there exists $g \in G$ such that $g\cdot s = s'$, then $q(s) = q(s')$. Denoting $o(s) := \{g \cdot s\mid g \in G\}$ to be the "orbit" of $s \in S$, the set of "orbits" of $S$ \[O:= \{ o(s) \mid s \in S\}\]
        along with the map $o: S \rightarrow O$ forms a "cocone" from $F$ since $o(g \cdot -) = o$.\footnote{Since the "orbits" are, by definition, stable under the "action" of $G$.} This "cocone" is the "colimit" since for any $q: S \rightarrow Q$ as in \eqref{diag:coconeunderaction}, any $!:O \rightarrow Q$ making \eqref{diag:orbitsinitialcocone} "commute" is completely determined by $!(o(s)) = q(s)$ (which is well-defined since $o(s) = o(s') \implies \exists g \in G, g\cdot s =g \cdot s' \implies q(s) = q(s')$).\begin{marginfigure}\begin{equation}\label{diag:orbitsinitialcocone}
            % https://q.uiver.app/?q=WzAsNCxbMCwwLCJTIl0sWzEsMiwiUSJdLFsyLDAsIlMiXSxbMSwxLCJPIl0sWzAsMSwicSIsMix7ImN1cnZlIjoxfV0sWzIsMSwicSIsMCx7ImN1cnZlIjotMX1dLFswLDIsImdcXGNkb3RcXHBsYWNlaG9sZGVyIl0sWzAsMywibyIsMl0sWzIsMywibyJdLFszLDEsIiEiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
        \begin{tikzcd}
            S && S \\
            & O \\
            & Q
            \arrow["q"', curve={height=6pt}, from=1-1, to=3-2]
            \arrow["q", curve={height=-6pt}, from=1-3, to=3-2]
            \arrow["g\cdot\placeholder", from=1-1, to=1-3]
            \arrow["o"', from=1-1, to=2-2]
            \arrow["o", from=1-3, to=2-2]
            \arrow["{!}", dashed, from=2-2, to=3-2]
        \end{tikzcd}
        \end{equation}\end{marginfigure}
    \end{enumerate}
    %TODO: Find another concrete example.
\end{exmps}
\begin{exer}[Trivial (co)limits]\label{exer:limits:trivialcolim}\marginnote{\hyperref[soln:limits:trivialcolim]{See solution.}}
    Show the following "(co)@colimit""limits" always exist and find what they are.
    \begin{enumerate}
        \item The "limit" of a "diagram" with only one "morphism".
        \item The "colimit" of a "diagram" with only one "morphism".
        \item The "limit" of a "cospan".
        \item The "colimit" of a "span".
    \end{enumerate}
\end{exer}
\subsection{Results}
\begin{prop}[Uniqueness]\label{prop:limunique}
    Let $F: \mathbf{J} \rightsquigarrow \mathbf{C}$ be a "diagram", the "limit" (resp. "colimit") of $F$, if it exists, is unique up to unique "isomorphism@@CAT".
\end{prop}
\begin{proof}
    This follows from the uniqueness of "terminal" (resp. "initial") "objects".\footnote{Corollary \ref{cor:terminalunique} (resp. Proposition \ref{prop:initialunique}).}
\end{proof}
\begin{rem}\label{rem:uniqueiso}
    The "isomorphism@@CAT" between two "limits" (also "colimits") is unique when viewed as a "morphism" of "cone". There might exists an "isomorphism@@CAT" between the "tips" that is not a "morphism" of "cone". For instance, let $A$, $B$ and $C$ be finite sets. One can check that both $A \times (B \times C)$ and $(A\times B) \times C$ are "products" of $\{A, B, C\}$ (with the usual "projection" maps). Thus, there is an "isomorphism@CAT" between them. One can check that, for it to be a "morphism" of "cones", it must send $(a, (b,c))$ to $((a,b), c)$, but any other bijection between them is an "isomorphism@@CAT" in $\catSet$.
    
    For this reason, the "limit" really consists of the whole "cone", and not just of the "object" at the "tip". Unfortunately, this subtlety is not well cared for in the literature and it can and has led to errors.
\end{rem}
%TODO: preserve, reflect, create plus examples. Example about preservation with absolute limits and colimits: e.g.: split idempotents.
%TODO: say that when we talk about preservation and reflection now, we use the limit definition because it is more formal but everything should probably work with informal definition. Talk about mono and epi in particular.
\begin{exer}\label{exer:limits:hompreserveprod}\marginnote{\hyperref[soln:limits:hompreserveprod]{See solution.}}
    Fix $A \in \obj{\mathbf{C}}$, show that the "functor" $\Hom_{\mathbf{C}}(A,\placeholder)$ "preserves" "binary products". Namely, if $X,Y \in \obj{\mathbf{C}}$ and $X\times Y$ exists, then \[\Hom_{\mathbf{C}}(A,X\product Y) \isoCAT \Hom_{\mathbf{C}}(A,X)\times \Hom_{\mathbf{C}}(A,Y).\]
\end{exer}
\begin{cor}["Dual@@CAT"]
    Fix $A \in \obj{\mathbf{C}}$, show the "functor" $\Hom_{\mathbf{C}}(\placeholder,A)$ "preserves" binary "coproducts".
\end{cor}
%TODO: say these will be generalized.
\section{Diagram chasing}
%Paragraph on diagram chasing.
%Proofs are really different on the board since it is easier to simply reuse work and add different colors instead of making cleaner diagrams.
We show four results in increasing order of complexity to demonstrate "diagram chasing" through examples.

\begin{thm}\label{thm:pullmono}
    Consider the "pullback" square in \eqref{diag:pullmono}.
    \begin{equation}\label{diag:pullmono}
        % https://q.uiver.app/?q=WzAsNCxbMSwxLCJDIl0sWzAsMSwiQSJdLFsxLDAsIkIiXSxbMCwwLCJBXFxwdWxsYmFja3tDfSBCIl0sWzEsMCwiZiIsMl0sWzIsMCwiZyJdLFszLDEsInBfQSIsMl0sWzMsMiwicF9CIl0sWzMsMCwiIiwwLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
        \begin{tikzcd}
            {A\pullback{C} B} & B \\
            A & C
            \arrow["f"', from=2-1, to=2-2]
            \arrow["g", from=1-2, to=2-2]
            \arrow["{p_A}"', from=1-1, to=2-1]
            \arrow["{p_B}", from=1-1, to=1-2]
            \arrow["\pullbackd"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
        \end{tikzcd}
    \end{equation}
    If $g$ is "monic", then $p_A$ also is. Symmetrically, if $f$ is "monic", then $p_B$ also is.\footnote{This is commonly stated simply as: ``The "pullback" of a "monomorphism" is a "monomorphism".''}
\end{thm}
\begin{proof}
    Let $h_1, h_2: X \rightarrow A \pullback{C} B$ be such that $p_A \circ h_1 = p_A \circ h_2$, we need to show that $h_1 = h_2$. First, observe that $h_1$ and $h_2$ yield two "cones" over the "cospan" $\begin{tikzcd}[cramped, sep=small] A \arrow[r, "f"] & C & B \arrow[l, "g"'] \end{tikzcd}$ as depicted in \eqref{diag:twopulls}.\begin{marginfigure}[2\baselineskip]The two "cones" are \[\begin{tikzcd}
        X & B \\
        A
        \arrow["{p_A \circ h_1}"', from=1-1, to=2-1]
        \arrow["{p_B \circ h_1}", from=1-1, to=1-2]
    \end{tikzcd}\quad \text{and} \quad \begin{tikzcd}
        X & B \\
        A
        \arrow["{p_A \circ h_2}"', from=1-1, to=2-1]
        \arrow["{p_B \circ h_2}", from=1-1, to=1-2]
    \end{tikzcd}\]They make the squares "commute" because the original "pullback" square "commutes".\end{marginfigure}
    \begin{equation}\label{diag:twopulls}
        % https://q.uiver.app/?q=WzAsNSxbMiwyLCJDIl0sWzEsMiwiQSJdLFsyLDEsIkIiXSxbMSwxLCJBXFxwdWxsYmFja3tDfSBCIl0sWzAsMCwiWCJdLFsxLDAsImYiLDJdLFsyLDAsImciXSxbMywxLCJwX0EiLDJdLFszLDIsInBfQiJdLFs0LDEsInBfQSBcXGNpcmMgaF8xID0gcF9BIFxcY2lyYyBoXzIiLDIseyJjdXJ2ZSI6Mn1dLFs0LDIsInBfQiBcXGNpcmMgaF8xIiwwLHsiY3VydmUiOi0yfV0sWzMsMCwiIiwwLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzQsMiwicF9CXFxjaXJjIGhfMiIsMCx7ImN1cnZlIjotNX1dLFs0LDMsImhfMSIsMSx7Im9mZnNldCI6Mn1dLFs0LDMsImhfMiIsMSx7Im9mZnNldCI6LTJ9XV0=
        \begin{tikzcd}
            {X} \\
            & {A\pullback{C} B} & B \\
            & A & C
            \arrow["f"', from=3-2, to=3-3]
            \arrow["g", from=2-3, to=3-3]
            \arrow["{p_A}"', from=2-2, to=3-2]
            \arrow["{p_B}", from=2-2, to=2-3]
            \arrow["{p_A \circ h_1 = p_A \circ h_2}"', curve={height=12pt}, from=1-1, to=3-2]
            \arrow["{p_B \circ h_1}", curve={height=-12pt}, from=1-1, to=2-3]
            \arrow["\pullbackd"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
            \arrow["{p_B\circ h_2}", curve={height=-45pt}, from=1-1, to=2-3]
            \arrow["{h_1}"', shift right=1, from=1-1, to=2-2]
            \arrow["{h_2}", shift left=1, from=1-1, to=2-2]
        \end{tikzcd}
    \end{equation}
    Furthermore, $h_1$ and $h_2$ are "cone" "morphisms" between $X$ and $A \pullback{C} B$ and since the "pullback" is the "terminal" "cone" over this "cospan", they are unique. Now, we already have that the "projections" onto $A$ is the same for both new "cones", but we claim this is also true for the "projections" onto $B$. Indeed, because $g$ is "monic" and the square "commutes", we have the following implications.
    \begin{align*}
        p_A \circ h_1 = p_A \circ h_2 \implies&& f \circ p_A \circ h_1 &= f \circ p_A \circ h_2\\
        \implies&& g \circ p_B \circ h_1 &= g \circ p_B \circ h_2\\
        \implies&& p_B \circ h_1 &= p_B \circ h_2
    \end{align*}
    In other words, the two new "cones" are in fact the same "cones", hence $h_1$ and $h_2$ are the same "morphisms" by uniqueness, which concludes our proof.
\end{proof}
\begin{cor}
    The "pushout" of an "epimorphism" is an "epimorphism".
\end{cor}

\begin{thm}[Pasting Lemma]\label{lem:pasting}
    Consider diagram \eqref{diag:pasting}, where the right square is a "pullback". This result is called the ""pasting lemma"".
    \begin{equation}\label{diag:pasting}
        \begin{tikzcd}
            A \arrow[r, "f"] \arrow[d, "\alpha"'] & B \arrow[r, "g"] \arrow[d, "\beta"'] \arrow[rd, phantom ,"\pullbackd", very near start] & C \arrow[d, "\gamma"] \\
            A' \arrow[r, "f'"']                   & B' \arrow[r, "g'"']                                                      & C'                   
        \end{tikzcd}       
    \end{equation}
    If \eqref{diag:pasting} "commutes", the left square is a "pullback" if and only if the rectangle is.
\end{thm}
\begin{proof}
    ($\Rightarrow$) Explicitly, we have to show that $\alpha : A' \leftarrow A \rightarrow C : g \circ f$ is the "pullback" of $g' \circ f' : A' \rightarrow C' \leftarrow C:\gamma$. The "commutativity" $g'\circ f' \circ \alpha = \gamma \circ g \circ f$ implies this is already a "cone" over the "cospan" we just described. Now, suppose there is another "cone" over this "cospan", namely, there exist "morphisms" $p_{A'}: X \rightarrow A'$ and $p_C: X \rightarrow C$ satisfying $g'\circ f' \circ p_{A'} = \gamma \circ p_C$ as depicted in \eqref{diag:pastingproof}.
    \begin{equation}\label{diag:pastingproof}
        \begin{tikzcd}
            X \arrow[rrrd, "p_C", bend left] \arrow[rdd, "p_{A'}"', bend right] \arrow[rrd, "{!}_B", dashed, shift left] \arrow[rd, "{!}_A"', dashed] & & & \\
            & A \arrow[r, near start, "f"] \arrow[d, "\alpha"'] \arrow[rd, "\pullbackd", phantom, very near start] & B \arrow[r, "g"] \arrow[d, "\beta"'] \arrow[rd, "\pullbackd", phantom, very near start] & C \arrow[d, "\gamma"] \\
            & A' \arrow[r, "f'"'] & B' \arrow[r, "g'"'] & C'
        \end{tikzcd}
    \end{equation}
    Notice that composing $p_{A'}$ with $f'$, we obtain a "cone" over the "cospan" in the right square and by "universality" of $B$, this yields a unique "morphism" ${!}_B: X \rightarrow B$ satisfying $g \circ {!}_B = p_C$ and $\beta \circ {!}_B = f' \circ p_{A'}$. This second equality yields "cone" over the "cospan" in the left square, thus we get a unique "morphism" ${!}_A : X \rightarrow A$ satisfying $\alpha \circ {!}_A = p_{A'}$ and $f \circ {!}_A = {!}_B$. Composing the last equality with $g$, we get
    \[g \circ f \circ {!}_A = g \circ {!}_B = p_C,\]
    showing that ${!}_A$ is a "morphism" of "cones" over the rectangular "cospan".

    What is more, any other "morphism" $m: X \rightarrow A$ of "cones" over this "cospan" must satisfy
    \[g \circ f \circ m = p_C \text{ and } \beta \circ f \circ m = f' \circ \alpha \circ m = f' \circ p_{A'},\]
    and thus, $f\circ m$ is a "morphism" of "cones" over the "cospan" in the right rectangle. By uniqueness, $f\circ m = {!}_B$, so $m$ is also a "morphism" of "cones" over the "cospan" in the left square, and by "universality" of $A$, $m = {!}_A$.
    
    ($\Leftarrow$) Explicitly, we have to show that $\alpha: A' \leftarrow A \rightarrow B: f$ is the "pullback" of $f': A' \rightarrow B \leftarrow B: \beta$. 
    \begin{equation}
    \begin{tikzcd}
X \arrow[rdd, "p_{A'}"', bend right] \arrow[rd, "{!}_A"', dashed] \arrow[rrd, "p_B", bend left] &                     &                                            &            \\
                                               & A \arrow[r, "f", near start] \arrow[d, "\alpha"'] & B \arrow[r, "g"] \arrow[d, "\beta"'] \arrow[rd, "\pullbackd", phantom, very near start] & C \arrow[d, "\gamma"] \\
                                               & A' \arrow[r, "f'"']                & B' \arrow[r, "g'"']                                  & C'          
\end{tikzcd}
    \end{equation}
    Let $p_{A'} : A' \leftarrow X \rightarrow B: p_B$ be a "cone" over the "cospan" of the left square (i.e.: $\beta \circ p_B = f' \circ p_{A'}$). The "commutativity" of \eqref{diag:pasting} implies $p_{A'}: A' \leftarrow X \rightarrow C: g \circ p_B$ is a "cone" over the rectangle "cospan", then by "universality" of $A$, there exists a unique ${!}_A: X \rightarrow A$ such that $g \circ f \circ {!}_A =  g \circ p_B$ and $\alpha \circ {!}_A = p_A$. Moreover, with the "commutativity" of the left square, we find that $f \circ {!}_A$ is a "morphism" of "cones" over the right "cospan" satisfying $\beta \circ f \circ {!}_A = f' \circ \alpha \circ {!}_A = f'\circ p_{A'} = \beta \circ p_B$ and $g \circ f \circ {!}_A = g \circ p_B$. But since our hypothesis on $p_{A'}$ and $p_B$ implies $p_B$ is a "morphism" of "cones" satisfying the same equations, by "universality" of $B$, $p_B = f \circ {!}_A$. Therefore, ${!}_A$ is a "morphism" of "cone" over the left "cospan".
    
    Finally, if $m: X \rightarrow A$ also satisfies $\alpha \circ m = p_{A'}$ and $f \circ m = p_B$. We find in particular that $m$ is a "morphism" of "cones" over the rectangle "cospan", hence by "universality" of $A$, $m = {!}_A$.
\end{proof}
\begin{cor}%TODO: redraw the diagram.
    In diagram \eqref{diag:pasting} where the right square is not necessarily a "pullback" but the left square is a "pushout", the right square is a "pushout" if and only if the rectangle is.
\end{cor}
\begin{exer}\label{exer:limits:isopullback}\marginnote{\hyperref[soln:limits:isopullback]{See solution.}}
    Show that \eqref{diag:pullidentity} is a "pullback" square. Let $i: A' \rightarrow A$ be an "isomorphism@@CAT", show that \eqref{diag:pulliso} is a "pullback" square.\footnote{We can summarize the first square by saying that the "pullback" of any "morphism" "along@apull" the "identity" gives back the original "morphism". The second square is basically a converse to the statement ``"pullbacks" are unique up to "isomorphism@@CAT"'' in this very special case.}\\%TODO: explain better.
    \begin{minipage}{0.49\textwidth}
        \begin{equation}\label{diag:pullidentity}
            % https://q.uiver.app/?q=WzAsNCxbMCwwLCJBIl0sWzAsMSwiQiJdLFsxLDAsIkEiXSxbMSwxLCJCIl0sWzAsMSwiZiIsMl0sWzAsMiwiXFxpZF9BIl0sWzIsMywiZiJdLFsxLDMsIlxcaWRfQiIsMl0sWzAsMywiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
            \begin{tikzcd}
                A & A \\
                B & B
                \arrow["f"', from=1-1, to=2-1]
                \arrow["{\id_A}", from=1-1, to=1-2]
                \arrow["f", from=1-2, to=2-2]
                \arrow["{\id_B}"', from=2-1, to=2-2]
                \arrow["\pullbackd"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
            \end{tikzcd}
        \end{equation}
    \end{minipage}\begin{minipage}{0.49\textwidth}
        \begin{equation}\label{diag:pulliso}
            % https://q.uiver.app/?q=WzAsNCxbMCwwLCJBIl0sWzAsMSwiQiJdLFsxLDAsIkEiXSxbMSwxLCJCIl0sWzAsMSwiZiIsMl0sWzAsMiwiXFxpZF9BIl0sWzIsMywiZiJdLFsxLDMsIlxcaWRfQiIsMl0sWzAsMywiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
            \begin{tikzcd}
                A' & A \\
                B & B
                \arrow["f \circ i"', from=1-1, to=2-1]
                \arrow["{i}", from=1-1, to=1-2]
                \arrow["f", from=1-2, to=2-2]
                \arrow["{\id_B}"', from=2-1, to=2-2]
                \arrow["\pullbackd"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
            \end{tikzcd}
        \end{equation}
    \end{minipage}
\end{exer}

\begin{defn}[(Co)completeness]
    \AP A "category" is said to be ""(co)complete@complete"" (resp. ""finitely@finitely complete"" "(co)complete") if any "small" (resp. finite) "diagram" has a "(co)@colimit""limit". %TODO: ref chapter 3.7 of Emily Riehl's book.
\end{defn}
\begin{thm}\label{thm:prodeqcomplete}
    Suppose that a "category" $\mathbf{C}$ has all "products" and "equalizers" then $\mathbf{C}$ has all "limits", i.e.: $\mathbf{C}$ is "complete". %TODO: talk about the axiom of choice
\end{thm}
\begin{proof}
    Let $F: \mathbf{J}\rightsquigarrow \mathbf{C}$ be a "diagram", we will show that the "limit" of $F$ is obtained from the "equalizer" of two "morphisms"\footnote{Recall that $\source$ and $\target$ denote the "sources" and "targets" of "morphisms".}
    \[u_1, u_2: \Product_{X \in \obj{\mathbf{J}}} F(X) \rightarrow \Product_{a \in \mor{\mathbf{J}}} F(\target(a)),\]
    which are defined below. The "equalizer" and the "products" it involves exist by hypothesis.
    
    Recall that for any $X \in \obj{\mathbf{J}}$ and $a \in \mor{\mathbf{J}}$, we have two canonical "projections" \[\projection_X:\Product_{X \in \obj{\mathbf{J}}}F(X)\rightarrow F(X) \quad \text{ and }\quad \projection_a:\Product_{a \in \mor{\mathbf{J}}} F(\target(a)) \rightarrow F(\target(a)).\]
    The first family of "projections" makes $\Product_{X \in \obj{\mathbf{J}}}$ into a "cone" over $\{F(\target(a)) \mid a \in \mor{\mathbf{J}}\}$ with "projections" $\projection_{\target(a)}$. Hence, there is a unique "morphism" $u_1:\Product_{X \in \obj{\mathbf{J}}} F(X) \rightarrow \Product_{a \in \mor{\mathbf{J}}}F(\target(a))$ that satisfies $\projection_a \circ u_1 = \projection_{\target(a)}$. What is more, there is another way to "project" from $\Product_{X \in \obj{\mathbf{J}}}$ to $F(\target(a))$, namely, via $F(a) \circ \projection_{\source(a)}$, thus we get a unique "morphism" $u_2:\Product_{X \in \obj{\mathbf{J}}} F(X) \rightarrow \Product_{a \in \mor{\mathbf{J}}}F(\target(a))$ that satisfies $\projection_a \circ u_2 = F(a) \circ \projection_{\source(a)}$. The situation is summarized in \eqref{diag:twocones}.
    \begin{equation}\label{diag:twocones}
        \begin{tikzcd}
            \Product_{X \in \obj{\mathbf{J}}} F(X) \arrow[rdd, "\projection_{\target(a)}"', bend right] \arrow[rd, "u_1", dashed] \arrow[rr, equal] & & \Product_{X \in \obj{\mathbf{J}}} F(X) \arrow[ldd, "F(a) \circ \projection_{\source(a)}", bend left] \arrow[ld, "u_2"', dashed] \\& \Product_{a \in \mor{\mathbf{J}}} F(\target(a)) \arrow[d, "\projection_{a}"] &\\ & F(\target(a)) &         
            \end{tikzcd}
    \end{equation}
    
    Let $e:E\rightarrow \Product_{X\in \obj{\mathbf{J}}} F(X)$ be the "equalizer" of $u_1$ and $u_2$ and for any $X \in \obj{\mathbf{J}}$, let $\psi_X = \projection_X \circ e$. For any $f: Y \rightarrow Z$ in $\mathbf{J}$, we have 
    \begin{align*}
        F(f) \circ \psi_Y &= F(f) \circ \projection_Y \circ e &&\mbox{(def. of $\psi_Y$)}\\ 
        &= \projection_f \circ u_2 \circ e &&\mbox{(def. of $u_2$)}\\ 
        &= \projection_f \circ u_1 \circ e &&\mbox{(def. of $e$)}\\
        &= \projection_Z \circ e = \psi_Z, &&\mbox{(def. of $u_1$ and $\psi_Z$)}
    \end{align*}
    so we indeed obtain a "cone" from $E$ to $F$, depicted in \eqref{diag:limitcone}.
    \begin{equation}\label{diag:limitcone}
        \begin{tikzcd}
            & E \arrow[ld, "\projection_X \circ e"'] \arrow[rd, "\projection_Y \circ e"] &      \\
            F(X) \arrow[rr, "F(f)"'] & & F(Y)
        \end{tikzcd}
    \end{equation}
    Next, any other "cone" $\{U_X: O \rightarrow F(X)\}_{X \in \obj{\mathbf{J}}}$ over $F$ can also be viewed as a "cone" over the "discrete" "diagram" $\{F(\target(a))\}_{a \in \mor{\mathbf{J}}}$ with "projections" $\{U_{\target(a)}\}_{a \in \mor{\mathbf{J}}}$. Moreover, the "universality" of the "product" yields a unique "morphism" $p: O\rightarrow \Product_{X \in \obj{\mathbf{J}}} F(X)$ such that $\projection_X \circ p = U_X$. We claim that both $u_1 \circ p$ and $u_2 \circ p$ make \eqref{diag:conemorphisms} "commute" for all $a \in \mor{\mathbf{J}}$.
    \begin{equation}\label{diag:conemorphisms}
        \begin{tikzcd}
            O \arrow[r, "p"] \arrow[rrd, "U_{\target(a)}"'] &\Product_{X \in \obj{\mathbf{J}}} F(X) \arrow[r, "u_i"] & \Product_{a \in \mor{\mathbf{J}}} F(\target(a)) \arrow[d, "\projection_a"] \\
             & & F(\target(a))
            \end{tikzcd}
    \end{equation}
    This follows from two simple derivations.\\
    \begin{minipage}{0.49\textwidth}
    \begin{align*}
        \projection_a \circ u_1 \circ p &= \projection_{\target(a)} \circ p\\
        &= U_{\target(a)}
    \end{align*}
    \end{minipage}
    \begin{minipage}{0.49\textwidth}
    \begin{align*}
        \projection_a \circ u_2 \circ p &= F(a) \circ \projection_{\source(a)} \circ p\\
        &= F(a) \circ U_{\source(a)}\\
        &= U_{\target(a)}
    \end{align*}
    \end{minipage}\vspace{1em}
    \\ 
    Hence, $u_1 \circ p = u_2 \circ p$ as they are both "morphisms" of "cone" to the "terminal" "cone" $\Product_{a \in \mor{\mathbf{J}}} F(\target(a))$. Now, by "universality" of the "equalizer", we get a unique "morphism" $n: O\rightarrow E$ such that $e \circ n = p$. Furthermore, for any $X \in \obj{\mathbf{J}}$, we have \[\psi_X \circ n = \projection_X \circ e \circ n = \projection_X \circ p = U_X,\]
    so $n$ is also a "morphism" of "cones" $(O, U_X)\rightarrow (E, \psi_X)$. Since any other "morphism" of "cones" $m$ needs to satisfy $e \circ m = p$, we see that $n$ is unique and conclude that $E$ is $\lim F$.

    Just for fun, here is what the whole diagram would look like if it were drawn at once (on the board or on paper).
    \begin{equation*}
%         \begin{tikzcd}
%             & E \arrow[ld, "e"'] \arrow[rd, "e"] \arrow[rrr, "n", dashed] &   &   & O \arrow[ld, "U_X"] \arrow[lllddd, "U_{\target(a)}", bend left=49] \arrow[lld, "p"', dashed] \arrow[lllld, "p"', dashed] \\
% \Product_{X \in \obj{\mathbf{J}}} F(X) \arrow[rdd, "\projection_{\target(a)}"', bend right] \arrow[rd, "u_1", dashed] \arrow[rr, equal] &  & \Product_{X \in \obj{\mathbf{J}}} F(X) \arrow[ldd, "F(a) \circ \projection_{\source(a)}", bend left] \arrow[ld, "u_2"', dashed] \arrow[r, "\projection_X"] & F(X) &  \\
%             & \Product_{a \in \mor{\mathbf{J}}} F(\target(a)) \arrow[d, "\projection_{a}"] &  & &\\
%             & F(\target(a))& & &     
% \end{tikzcd}
% https://q.uiver.app/?q=WzAsNyxbMSwwLCJFIl0sWzAsMSwiXFxQcm9kdWN0X3tYXFxpbiBKXzB9RlgiXSxbMiwxLCJcXFByb2R1Y3Rfe1hcXGluIEpfMH1GWCJdLFsxLDIsIlxcUHJvZHVjdF97YSBcXGluIEpfMX1GXFx0YXJnZXQoYSkiXSxbMSw0LCJGXFx0YXJnZXQoYSkiXSxbNCwwLCJPIl0sWzMsMSwiRlgiXSxbMCwxLCJlIiwyXSxbMCwyLCJlIl0sWzEsMiwiIiwwLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMSwzLCJ1XzEiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMiwzLCJ1XzIiLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSw0LCJcXHByb2plY3Rpb25fe1xcdGFyZ2V0KGEpfSIsMix7ImN1cnZlIjoyfV0sWzIsNCwiRmEgXFxjaXJjIFxccHJvamVjdGlvbl97XFxzb3VyY2UoYSl9Il0sWzMsNCwiXFxwcm9qZWN0aW9uX3thfSJdLFs1LDAsIm4iLDIseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNSwxLCJwIiwxLHsibGFiZWxfcG9zaXRpb24iOjMwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNSwyLCJwIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzIsNiwiXFxwcm9qZWN0aW9uX1giLDJdLFs1LDYsIlVfWCIsMV0sWzUsNCwiVV97XFx0YXJnZXQoYSl9IiwwLHsiY3VydmUiOi01fV1d
\begin{tikzcd}
	& E &&& O \\
	{\Product_{X\in \obj{\mathbf{J}}}FX} && {\Product_{X\in \obj{\mathbf{J}}}FX} & FX \\
	& {\Product_{a \in \mor{\mathbf{J}}}F\target(a)} \\
	\\
	& {F\target(a)}
	\arrow["e"', from=1-2, to=2-1]
	\arrow["e", from=1-2, to=2-3]
	\arrow[Rightarrow, no head, from=2-1, to=2-3]
	\arrow["{u_1}", dashed, from=2-1, to=3-2]
	\arrow["{u_2}"', dashed, from=2-3, to=3-2]
	\arrow["{\projection_{\target(a)}}"', curve={height=12pt}, from=2-1, to=5-2]
	\arrow["{Fa \circ \projection_{\source(a)}}", from=2-3, to=5-2]
	\arrow["{\projection_{a}}", from=3-2, to=5-2]
	\arrow["n"', dashed, from=1-5, to=1-2]
	\arrow["p"{description, pos=0.3}, dashed, from=1-5, to=2-1]
	\arrow["p"{description}, dashed, from=1-5, to=2-3]
	\arrow["{\projection_X}"', from=2-3, to=2-4]
	\arrow["{U_X}"{description}, from=1-5, to=2-4]
	\arrow["{U_{\target(a)}}", curve={height=-50pt}, from=1-5, to=5-2]
\end{tikzcd}
    \end{equation*}
%    \begin{equation}\label{diag:firstcone}
%        \begin{tikzcd}
%            \Product_{X \in \obj{\mathbf{J}}} F(X) \arrow[rd, "\projection_{\target(a)}"'] \arrow[rr, "u_1", dashed] &         & \Product_{a \in \mor{\mathbf{J}}} F(\target(a)) \arrow[ld, "\projection_{a}"] \\ & F(\target(a)) &
%        \end{tikzcd}
%    \end{equation}
\end{proof}
\begin{rem}\label{rem:prodeqcomplete}
    The same proof yields a more general statement: For any cardinal $\kappa$, if a "category" $\mathbf{C}$ has all "products" of size less than $\kappa$ and "equalizers", then it has "limits" of any "diagram" with less than $\kappa$ "objects" and "morphisms". 
\end{rem}
\begin{cor}["Dual@@CAT"]
    If a "category" $\mathbf{C}$ has all "coproducts" of size less than $\kappa$ and "coequalizers", then it has "colimits" of any "diagram" with less than $\kappa$ "objects" and "morphisms".
\end{cor}

\begin{defn}
    \AP A "functor" $\mathbf{C} \rightsquigarrow \mathbf{D}$ is said to be (""finitely@finitely continuous"") ""(co)continuous@continuous"" if it "preserves" all (finite) "(co)@colimit""limit".
\end{defn}
\begin{exer}\label{exer:limits:preservinglim}\marginnote{\hyperref[soln:limits:preservinglim]{See solution.}}
    Show that a "functor" is "continuous" if and only if it "preserves" "products" and "equalizers". State and prove the "dual@@CAT" statement.
\end{exer}
\begin{thm}\label{thm:homcont}
    Fix $A \in \obj{\mathbf{C}}$, the "functor" $\Hom_{\mathbf{C}}(A,\placeholder)$ is "continuous".
\end{thm}
\begin{proof}
    %TODO:
\end{proof}
\begin{cor}["Dual@@CAT"]\label{cor:cohomcont}%TODO: check that this is dual.
    Fix $A \in \obj{\mathbf{C}}$, the "functor" $\Hom_{\mathbf{C}}(\placeholder,A)$ is "continuous".\footnote{More concisely, the $\Hom$ "bifunctor@hombif" is "continuous" in each argument.}%TODO: why not continuous(by itself not in each argument)?
\end{cor}
% \begin{rem}
%     Recall that we defined diagrams as functors with domain begin usually small or finite. In this definition, we must ensure that (co)limits are \textbf{small} if we want this notion to make sense. In fact, one can show (c.f. Exercise \ref{exer-complete}) that if a category has limits of all sizes, then $\Hom_{\mathbf{C}}(X,Y)$ has at most one element for all $X,Y \in \mathbf{C}_0$.
% \end{rem}
\begin{exer}\label{exer:limits:termpullcomplete}
    Show that a "category" with all "pullbacks" and a "terminal" "object" is "finitely complete".\marginnote{\hyperref[soln:limits:termpullcomplete]{See solution.}}
\end{exer}
\begin{cor}["Dual@@CAT"]
    A "category" with all "pushouts" and an "initial" "object" is "finitely cocomplete".
\end{cor}
\begin{rem}
    We can conclude\footnote{Similarly to Exercise \ref{exer:limits:preservinglim}.} that a "functor" is "finitely continuous" if and only if it "preserves" "pullbacks" and the "terminal" "object" and it is "finitely coconituous" if and only if it "preserves" "pushouts" and the "initial" "object".
\end{rem}
%TODO: absolute limits and colimits. (meh)
%TODO: filtered limits, directed limits, other types I have seen. (meh)


\end{document}